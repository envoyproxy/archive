<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>1.32.0 (October 15, 2024) &mdash; envoy tag-v1.32.4 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=d7d10ef0" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/envoy.css?v=3ec0219e" />
      <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../../_static/tabs.css?v=4da122e5" />

  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../_static/documentation_options.js?v=4e772e76"></script>
        <script src="../../_static/doctools.js?v=9a2dae69"></script>
        <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../../_static/copybutton.js?v=db7b0edf"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="v1.31" href="../v1.31/v1.31.html" />
    <link rel="prev" title="1.32.1 (October 29, 2024)" href="v1.32.1.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html">
            
              <img src="../../_static/envoy-logo.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                tag-v1.32.4
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../about_docs.html">About the documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../intro/intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../start/start.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../configuration/configuration.html">Configuration reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../operations/operations.html">Operations and administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../extending/extending.html">Extending Envoy for custom use cases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/api.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../faq/overview.html">FAQ</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../version_history.html">Version history</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../version_history.html#stable-versions">Stable versions</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="v1.32.html">v1.32: 1.32.4 (March 20, 2025)</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="v1.32.4.html">1.32.4 (March 20, 2025)</a></li>
<li class="toctree-l4"><a class="reference internal" href="v1.32.3.html">1.32.3 (December 18, 2024)</a></li>
<li class="toctree-l4"><a class="reference internal" href="v1.32.2.html">1.32.2 (December 8, 2024)</a></li>
<li class="toctree-l4"><a class="reference internal" href="v1.32.1.html">1.32.1 (October 29, 2024)</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">1.32.0 (October 15, 2024)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../v1.31/v1.31.html">v1.31: 1.31.6 (March 20, 2025)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../v1.30/v1.30.html">v1.30: 1.30.10 (March 20, 2025)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../v1.29/v1.29.html">v1.29: 1.29.12 (December 18, 2024)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../version_history.html#archived-versions">Archived versions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../version_history.html#deprecation-policy">Deprecation Policy</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">envoy</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../version_history.html">Version history</a></li>
          <li class="breadcrumb-item"><a href="v1.32.html">v1.32</a></li>
      <li class="breadcrumb-item active">1.32.0 (October 15, 2024)</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/version_history/v1.32/v1.32.0.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="october-15-2024">
<span id="version-history-1-32-0"></span><h1>1.32.0 (October 15, 2024)<a class="headerlink" href="#october-15-2024" title="Link to this heading"></a></h1>
<section id="incompatible-behavior-changes">
<h2>Incompatible behavior changes<a class="headerlink" href="#incompatible-behavior-changes" title="Link to this heading"></a></h2>
<p><em>Changes that are expected to cause an incompatibility if applicable; deployment changes are likely required</em></p>
<ul class="simple">
<li><p><strong>eds</strong>: Enabling caching of EDS assignments when used with ADS by default (introduced in Envoy v1.28).
Prior to this change, Envoy required that EDS assignments were sent after an EDS cluster was updated.
If no EDS assignment was received for the cluster, it ended up with an empty assignment.
Following this change, after a cluster update, Envoy waits for an EDS assignment until
<a class="reference internal" href="../../api-v3/config/core/v3/config_source.proto.html#envoy-v3-api-field-config-core-v3-configsource-initial-fetch-timeout"><span class="std std-ref">initial_fetch_timeout</span></a> times out, and will then apply
the cached assignment and finish updating the warmed cluster. This change can be temporarily disabled by setting
the runtime flag <code class="docutils literal notranslate"><span class="pre">envoy.restart_features.use_eds_cache_for_ads</span></code> to <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></li>
<li><p><strong>golang</strong>: Change <code class="docutils literal notranslate"><span class="pre">OnLogDownstreamStart</span></code>, <code class="docutils literal notranslate"><span class="pre">OnLogDownstreamPeriodic</span></code> and <code class="docutils literal notranslate"><span class="pre">OnLog</span></code> methods so that user can get the request/response’s
headers and trailers when producing access log.</p></li>
<li><p><strong>http</strong>: Access log handlers added by filters will now be evaluated before access
log handlers that configured in the <a class="reference internal" href="../../api-v3/extensions/filters/network/http_connection_manager/v3/http_connection_manager.proto.html#envoy-v3-api-field-extensions-filters-network-http-connection-manager-v3-httpconnectionmanager-access-log"><span class="std std-ref">access_log configuration</span></a>.
This change can be disabled by setting the runtime guard flag
<code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.filter_access_loggers_first</span></code> to <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></li>
<li><p><strong>http</strong>: Added HTTP/1-safe option for <a class="reference internal" href="../../api-v3/config/core/v3/protocol.proto.html#envoy-v3-api-field-config-core-v3-httpprotocoloptions-max-connection-duration"><span class="std std-ref">max_connection_duration</span></a> in
HttpConnectionManager. When enabled, <code class="docutils literal notranslate"><span class="pre">max_connection_duration</span></code> will only drain downstream
HTTP/1 connections by adding the <code class="docutils literal notranslate"><span class="pre">Connection:</span> <span class="pre">close</span></code> response header; it will never cause the
<code class="docutils literal notranslate"><span class="pre">HttpConnectionManager</span></code> to close the connection itself.  Defaults to off (allows “unsafe” connection closing)
but is configurable via <a class="reference internal" href="../../api-v3/extensions/filters/network/http_connection_manager/v3/http_connection_manager.proto.html#envoy-v3-api-field-extensions-filters-network-http-connection-manager-v3-httpconnectionmanager-http1-safe-max-connection-duration"><span class="std std-ref">http1_safe_max_connection_duration</span></a>.</p></li>
<li><p><strong>http</strong>: Allow HTTP/2 and HTTP/3 upstream servers to half close the stream before the downstream. This enables bidirectional
gRPC streams where server completes streaming before the client. Behavior of HTTP/1 or TCP proxy upstream servers is
unchanged and the stream is reset if the upstream server completes response before the downstream. The stream is also
reset if the upstream server responds with an error status before the downstream. This behavior is disabled by default
and can be enabled by setting the <code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.allow_multiplexed_upstream_half_close</span></code> runtime key to true.</p></li>
<li><p><strong>http</strong>: The default configuration of Envoy will continue to trust internal addresses while in the future it will not trust them by default.
If you have tooling such as probes on your private network which need to be treated as trusted (e.g. changing arbitrary <code class="docutils literal notranslate"><span class="pre">x-envoy</span></code>
headers) please explictily include those addresses or CIDR ranges into <a class="reference internal" href="../../api-v3/extensions/filters/network/http_connection_manager/v3/http_connection_manager.proto.html#envoy-v3-api-field-extensions-filters-network-http-connection-manager-v3-httpconnectionmanager-internal-address-config"><span class="std std-ref">internal_address_config</span></a>
See the config examples from the above <code class="docutils literal notranslate"><span class="pre">internal_address_config</span></code> link. You can turn up or test
the upcoming internal address defaults by setting runtime guard
<code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.explicit_internal_address_config</span></code> to <code class="docutils literal notranslate"><span class="pre">true</span></code>.</p></li>
<li><p><strong>monitoring</strong>: Removed runtime feature flag <code class="docutils literal notranslate"><span class="pre">envoy.restart_features.enable_execution_context</span></code>. The execution context feature
can instead be enabled by setting compile option <code class="docutils literal notranslate"><span class="pre">--define=execution_context=enabled</span></code>.</p></li>
<li><p><strong>stats scoped_rds</strong>: Added new tag extraction so that scoped rds stats have their <code class="docutils literal notranslate"><span class="pre">scope_route_config_name</span></code> and stat prefix extracted.</p></li>
<li><p><strong>tracing</strong>: Removed support for (long deprecated) opentracing.  See <a class="reference external" href="https://github.com/envoyproxy/envoy/issues/27401">issue 27401</a> for details.</p></li>
</ul>
</section>
<section id="minor-behavior-changes">
<h2>Minor behavior changes<a class="headerlink" href="#minor-behavior-changes" title="Link to this heading"></a></h2>
<p><em>Changes that may cause incompatibilities for some users, but should not for most</em></p>
<ul class="simple">
<li><p><strong>access_log</strong>: Sanitize SNI for potential log injection. The invalid character will be replaced by <code class="docutils literal notranslate"><span class="pre">_</span></code> with an <code class="docutils literal notranslate"><span class="pre">invalid:</span></code> marker.
This behavioral change can be temporarily reverted by setting
runtime guard <code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.sanitize_sni_in_access_log</span></code> to <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></li>
<li><p><strong>aws</strong>: AWS request signing common code now uses the HTTP async client by default, moving curl to the
deprecation path. This behavior change can be
reverted by setting the <code class="docutils literal notranslate"><span class="pre">envoy_reloadable_features_use_http_client_to_fetch_aws_credentials</span></code>
runtime flag to <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></li>
<li><p><strong>command line options</strong>: <a class="reference internal" href="../../operations/cli.html#cmdoption-enable-fine-grain-logging"><code class="xref std std-option docutils literal notranslate"><span class="pre">--enable-fine-grain-logging</span></code></a> and <a class="reference internal" href="../../operations/cli.html#cmdoption-component-log-level"><code class="xref std std-option docutils literal notranslate"><span class="pre">--component-log-level</span></code></a> were incompatible in that one
would make the other ineffective. Setting both options at once is now an error, to reduce potential confusion.</p></li>
<li><p><strong>conn_handler</strong>: Enhanced listener filter chain execution to handle the case that listener filter has <code class="docutils literal notranslate"><span class="pre">maxReadBytes()</span></code> of 0,
but may return <code class="docutils literal notranslate"><span class="pre">StopIteration</span></code> in <code class="docutils literal notranslate"><span class="pre">onAccept</span></code> to wait for asynchronous callback.</p></li>
<li><p><strong>ext_proc</strong>: Added support for <a class="reference internal" href="../../api-v3/extensions/filters/http/ext_proc/v3/ext_proc.proto.html#envoy-v3-api-field-extensions-filters-http-ext-proc-v3-externalprocessor-send-body-without-waiting-for-header-response"><span class="std std-ref">send_body_without_waiting_for_header_response</span></a>.</p></li>
<li><p><strong>http</strong>: Modified the authority header value validator to allow the same characters as oghttp2
plus the <code class="docutils literal notranslate"><span class="pre">&#64;</span></code> character. This is compliant with nghttp2, and supports the HTTP/1 use-cases
that allow <code class="docutils literal notranslate"><span class="pre">user-info&#64;</span></code> as part of the authority. This behavior can be reverted by setting
the runtime guard <code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.internal_authority_header_validator</span></code> to <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></li>
<li><p><strong>http2</strong>: Changed the default value of <code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.http2_use_oghttp2</span></code> to <code class="docutils literal notranslate"><span class="pre">false</span></code>. This changes the codec used for HTTP/2
requests and responses to address to address stability concerns. This behavior can be reverted by setting the feature to <code class="docutils literal notranslate"><span class="pre">true</span></code>.</p></li>
<li><p><strong>http3</strong>: HTTP/3 <code class="docutils literal notranslate"><span class="pre">alt-svc</span></code> headers will now be respected from IP-address-based hostnames. This change is
guarded by runtime guard <code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.allow_alt_svc_for_ips</span></code>.</p></li>
<li><p><strong>http3</strong>: The <code class="docutils literal notranslate"><span class="pre">ACCEPT_UNTRUSTED</span></code> option now works more consistently for HTTP/3 requests. This change is
guarded by <code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.extend_h3_accept_untrusted</span></code>.</p></li>
<li><p><strong>http_11_proxy</strong>: Made the inner <code class="docutils literal notranslate"><span class="pre">transport_socket</span></code> field optional in the proto configuration.</p></li>
<li><p><strong>lua</strong>: When Lua scripts execute <code class="docutils literal notranslate"><span class="pre">httpCall</span></code>, backpressure is now exercised when receiving body from downstream
client. This behavior can be reverted
by setting the runtime guard <code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.lua_flow_control_while_http_call</span></code> to <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></li>
<li><p><strong>quic</strong>: UDP client connection sockets are now connected before use and sockets will only bind if
the local address is specified. This behavior change can be reverted by setting the
<code class="docutils literal notranslate"><span class="pre">envoy_reloadable_features_quic_connect_client_udp_sockets</span></code> runtime flag to <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></li>
<li><p><strong>sni</strong>: When computing SNI and SAN value for the auto-sni and auto-san verification feature,
route host manipulations are now taken into account. This behavior can be reverted
by setting the runtime guard <code class="docutils literal notranslate"><span class="pre">envoy_reloadable_features_use_route_host_mutation_for_auto_sni_san</span></code> to <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></li>
<li><p><strong>tcp</strong>: Added support for <a class="reference internal" href="../../api-v3/config/cluster/v3/cluster.proto.html#envoy-v3-api-field-config-cluster-v3-cluster-connection-pool-per-downstream-connection"><span class="std std-ref">connection_pool_per_downstream_connection</span></a> flag in tcp connection pool.</p></li>
<li><p><strong>tracers</strong>: Set status code based on gRPC status code for OpenTelemetry tracers (previously unset).</p></li>
<li><p><strong>udp</strong>: Envoy now sets the Don’t Fragment (<code class="docutils literal notranslate"><span class="pre">DF</span></code>) flag bit on IP packet header on UDP listener sockets and
QUIC upstream connection sockets. This behavior
can be reverted by setting <code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.udp_set_do_not_fragment</span></code> to <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></li>
<li><p><strong>xds-failover</strong>: Add the ability to stick with either the primary or the failover xDS sources once Envoy connects to one of them.
To use the prior behavior, set the runtime flag <code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.xds_failover_to_primary_enabled</span></code> to <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></li>
</ul>
</section>
<section id="bug-fixes">
<h2>Bug fixes<a class="headerlink" href="#bug-fixes" title="Link to this heading"></a></h2>
<p><em>Changes expected to improve the state of the world and are unlikely to have negative effects</em></p>
<ul class="simple">
<li><p><strong>c-ares</strong>: Applying a C-ares patch to fix DNS resoultion by the Google gRPC library.</p></li>
<li><p><strong>dispatcher</strong>: Update approximate now after polling instead of before polling. This is only used by QUIC.
The behavior can be reverted by setting <code class="docutils literal notranslate"><span class="pre">envoy.restart_features.fix_dispatcher_approximate_now</span></code> to <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></li>
<li><p><strong>dns</strong>: The DNS filter no longer returns <code class="docutils literal notranslate"><span class="pre">FORMERR</span></code> if a message has an <code class="docutils literal notranslate"><span class="pre">ID</span></code> of 0.</p></li>
<li><p><strong>dynamic_forward_proxy</strong>: Fixed a bug where DFP sub-cluster gets removed due to CDS update and doesn’t gets recreated. This behavior can be reverted by
setting the runtime guard <code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.avoid_dfp_cluster_removal_on_cds_update</span></code> to <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></li>
<li><p><strong>ext_proc</strong>: Add runtime guard for timeout error code <code class="docutils literal notranslate"><span class="pre">504</span> <span class="pre">Gateway</span> <span class="pre">Timeout</span></code> that is returned to downstream. If runtime flag
<code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.ext_proc_timeout_error</span></code> is set to <code class="docutils literal notranslate"><span class="pre">false</span></code>, old error code <code class="docutils literal notranslate"><span class="pre">500</span> <span class="pre">Internal</span> <span class="pre">Server</span> <span class="pre">Error</span></code>
will be returned.</p></li>
<li><p><strong>http</strong>: Fixed a bug where an incomplete request (missing body or trailers) may be proxied to the upstream when the limit on
the number of requests per I/O cycle is configured and an HTTP decoder filter that pauses filter chain is present. This behavior
can be reverted by setting the runtime guard <code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.use_filter_manager_state_for_downstream_end_stream</span></code>
to <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></li>
<li><p><strong>http2</strong>: Fixed bug where an upstream that sent a <code class="docutils literal notranslate"><span class="pre">GOAWAY</span></code> and gracefully closed a connection would result in an increment of
the cluster stat <code class="docutils literal notranslate"><span class="pre">upstream_cx_protocol_error</span></code> and setting the <code class="docutils literal notranslate"><span class="pre">UpstreamProtocolError</span></code> response flag. This behavior
can be reverted by setting the runtime guard <code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.http2_no_protocol_error_upon_clean_close</span></code>
to <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></li>
<li><p><strong>http3</strong>: Fixed a bug in the <code class="docutils literal notranslate"><span class="pre">CONNECT-UDP</span></code> forwarding mode where Envoy reset the upstream stream when it
received HTTP/3 datagrams before receiving the SETTINGS frame from the upstream peer. Envoy now
drops the datagrams in this case instead of resetting the stream.</p></li>
<li><p><strong>http3</strong>: Fixed a bug where an empty trailers block could be sent. This would occur if a filter removed
the last trailer - a likely occurrence with the <code class="docutils literal notranslate"><span class="pre">grpc_web_filter</span></code>. This change makes HTTP/3
behave the same way HTTP/2 does, converting an empty trailers block to no trailers.
This behavior can be reverted by setting the runtime guard <code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.http3_remove_empty_trailers</span></code> to <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></li>
<li><p><strong>http_async_client</strong>: Fixed the local reply and destroy order crashes when using the HTTP async client for websocket handshake.</p></li>
<li><p><strong>jwt</strong>: Fixed a bug where using <code class="docutils literal notranslate"><span class="pre">clear_route_cache</span></code> with remote JWKs works
incorrectly and may cause a crash when the modified request does not match
any route.</p></li>
<li><p><strong>oauth</strong>: Set token cookies in response regardless of <a class="reference internal" href="../../api-v3/extensions/filters/http/oauth2/v3/oauth.proto.html#envoy-v3-api-field-extensions-filters-http-oauth2-v3-oauth2config-forward-bearer-token"><span class="std std-ref">forward_bearer_token</span></a> config option.</p></li>
<li><p><strong>proxy_filter</strong>: Fixed a bug in the <code class="docutils literal notranslate"><span class="pre">CONNECT</span></code> implementation that would cause the <code class="docutils literal notranslate"><span class="pre">CONNECT</span></code> request created to be invalid when the
hostname contains a port number. When the port number is not specified, the port 443 will be automatically added.
This behavior can be reverted by setting the runtime guard <code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.proxy_ssl_port</span></code> to <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></li>
<li><p><strong>quic</strong>: Fixes access log formatter <code class="docutils literal notranslate"><span class="pre">%CONNECTION_ID%</span></code> for QUIC connections.</p></li>
<li><p><strong>rbac</strong>: RBAC will now allow stat prefixes configured in per-route config to override the base config’s
stat prefix.</p></li>
<li><p><strong>runtime</strong>: Fixed an inconsistency in how boolean values are loaded in RTDS, where they were previously converted to <code class="docutils literal notranslate"><span class="pre">1</span></code>/<code class="docutils literal notranslate"><span class="pre">0</span></code>
instead of <code class="docutils literal notranslate"><span class="pre">true</span></code>/<code class="docutils literal notranslate"><span class="pre">false</span></code>. The correct string representation (<code class="docutils literal notranslate"><span class="pre">true</span></code>/<code class="docutils literal notranslate"><span class="pre">false</span></code>) will now be used. This change can be
reverted by setting the runtime guard <code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.boolean_to_string_fix</span></code> to <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></li>
<li><p><strong>tracing</strong>: Fixed a bug where the OpenTelemetry tracer exports the OTLP request even when no spans are present.</p></li>
<li><p><strong>upstream</strong>: Fixed a bug using hard coded drop category when reporting drop_overload stats to the load report service.
It is changed to use drop category that is set in
<a class="reference internal" href="../../api-v3/config/endpoint/v3/endpoint.proto.html#envoy-v3-api-field-config-endpoint-v3-clusterloadassignment-policy-dropoverload-category"><span class="std std-ref">category</span></a>.</p></li>
<li><p><strong>upstream</strong>: Use previously calculated healthcheck when endpoints move priority levels repeatedly.</p></li>
<li><p><strong>wasm</strong>: Fixed a bug where a body received in chunks is not correctly dumped, resulting in
an incomplete dump and loss of the last chunk. This issue is manifested in HTTP/2.</p></li>
<li><p><strong>websocket</strong>: Fixed a bug where the websocket upgrade filter would not take into account per-filter configs.</p></li>
</ul>
</section>
<section id="removed-config-or-runtime">
<h2>Removed config or runtime<a class="headerlink" href="#removed-config-or-runtime" title="Link to this heading"></a></h2>
<p><em>Normally occurs at the end of the</em> <a class="reference internal" href="../version_history.html#deprecated"><span class="std std-ref">deprecation period</span></a></p>
<ul class="simple">
<li><p><strong>DNS</strong>: Removed <code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.dns_cache_set_first_resolve_complete</span></code> runtime flag and legacy code paths.</p></li>
<li><p><strong>dynamic forward proxy</strong>: Removed <code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.normalize_host_for_preresolve_dfp_dns</span></code> runtime flag and legacy code paths.</p></li>
<li><p><strong>dynamic_foward_proxy</strong>: Removed runtime flag <code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.dfp_mixed_scheme</span></code> and legacy code path.</p></li>
<li><p><strong>ext_proc</strong>: Removed runtime flag <code class="docutils literal notranslate"><span class="pre">envoy_reloadable_features_immediate_response_use_filter_mutation_rule</span></code> and legacy code
path.</p></li>
<li><p><strong>ext_proc</strong>: Removed runtime flag <code class="docutils literal notranslate"><span class="pre">envoy_reloadable_features_send_header_raw_value</span></code> and legacy code path.</p></li>
<li><p><strong>grpc reverse bridge</strong>: Removed <code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.grpc_http1_reverse_bridge_change_http_status</span></code> runtime flag
and legacy code paths.</p></li>
<li><p><strong>grpc reverse bridge</strong>: Removed <code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.grpc_http1_reverse_bridge_handle_empty_response</span></code> runtime
flag and legacy code paths.</p></li>
<li><p><strong>http</strong>: Removed <code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.use_http3_header_normalisation</span></code> runtime flag and legacy code paths.</p></li>
<li><p><strong>http</strong>: Removed runtime flag <code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.abort_filter_chain_on_stream_reset</span></code> and legacy
code path.</p></li>
<li><p><strong>http</strong>: Removed runtime flag <code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.http1_connection_close_header_in_redirect</span></code> and
legacy code paths.</p></li>
<li><p><strong>http</strong>: Removed runtime flag <code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.no_downgrade_to_canonical_name</span></code> and legacy code
path.</p></li>
<li><p><strong>http</strong>: Removed the <code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.http2_validate_authority_with_quiche</span></code> runtime flag and its legacy code paths.</p></li>
<li><p><strong>quic</strong>: Removed <code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.quic_fix_filter_manager_uaf</span></code> runtime flag and legacy code paths.</p></li>
<li><p><strong>stateful_session</strong>: Removed <code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.stateful_session_encode_ttl_in_cookie</span></code> runtime flag and legacy code paths.</p></li>
<li><p><strong>tls</strong>: Removed runtime flag <code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.ssl_transport_failure_reason_format</span></code>.</p></li>
<li><p><strong>udp</strong>: Removed <code class="docutils literal notranslate"><span class="pre">envoy.restart_features.udp_read_normalize_addresses</span></code> runtime flag and legacy code paths.</p></li>
<li><p><strong>upstream</strong>: Removed runtime flag <code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.avoid_zombie_streams</span></code> and legacy code paths.</p></li>
<li><p><strong>upstream</strong>: Removed runtime flag <code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.upstream_allow_connect_with_2xx</span></code> and legacy code paths.</p></li>
<li><p><strong>upstream flow control</strong>: Removed <code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.upstream_wait_for_response_headers_before_disabling_read</span></code> runtime flag
and legacy code paths.</p></li>
</ul>
</section>
<section id="new-features">
<h2>New features<a class="headerlink" href="#new-features" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p><strong>access log</strong>: Added support for <a class="reference internal" href="../../configuration/observability/access_log/usage.html#config-access-log-format-response-flags"><span class="std std-ref">%DOWNSTREAM_PEER_CHAIN_FINGERPRINTS_1%</span></a>,
<code class="docutils literal notranslate"><span class="pre">%DOWNSTREAM_PEER_CHAIN_FINGERPRINTS_256%</span></code>, and <code class="docutils literal notranslate"><span class="pre">%DOWNSTREAM_PEER_CHAIN_SERIALS%</span></code>, as access log formatters.</p></li>
<li><p><strong>access_log</strong>: Added new JSON access log formatter implementation which provides 16-25x performance improvement over the old
implementation. The legacy implementation will be enabled by default for now but will be deprecated and removed
in a future release.
The <a class="reference internal" href="../../api-v3/config/core/v3/substitution_format_string.proto.html#envoy-v3-api-field-config-core-v3-jsonformatoptions-sort-properties"><span class="std std-ref">sort_properties</span></a> field will
be ignored in the new implementation because the new implementation always sorts properties. And the new implementation
will always keep the value type in the JSON output. For example, the duration field will always be rendered as a number
instead of a string.
The new JSON formatter could be enabled by setting the runtime guard
<code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.logging_with_fast_json_formatter</span></code> to true.</p></li>
<li><p><strong>access_log</strong>: Added new access log command operators <code class="docutils literal notranslate"><span class="pre">%START_TIME_LOCAL%</span></code> and <code class="docutils literal notranslate"><span class="pre">%EMIT_TIME_LOCAL%</span></code>,
similar to  <code class="docutils literal notranslate"><span class="pre">%START_TIME%</span></code> and <code class="docutils literal notranslate"><span class="pre">%EMIT_TIME%</span></code>, but use local time zone.</p></li>
<li><p><strong>access_log</strong>: added <code class="docutils literal notranslate"><span class="pre">%UPSTREAM_CLUSTER_RAW%</span></code> access log formatter to log the original upstream cluster name, regardless of whether
<code class="docutils literal notranslate"><span class="pre">alt_stat_name</span></code> is set.</p></li>
<li><p><strong>access_logs</strong>: Added support for <code class="docutils literal notranslate"><span class="pre">%UPSTREAM_CONNECTION_ID%</span></code> access log substitution string in TCP and UDP tunneling flows.</p></li>
<li><p><strong>apple_dns_impl</strong>: For the apple DNS resolver, prefer using IPv6 address when addresses from both families are available.
Can be reverted by setting <code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.prefer_ipv6_dns_on_macos</span></code> to false.</p></li>
<li><p><strong>basic_auth</strong>: Added support to provide an override
<a class="reference internal" href="../../api-v3/extensions/filters/http/basic_auth/v3/basic_auth.proto.html#envoy-v3-api-field-extensions-filters-http-basic-auth-v3-basicauth-authentication-header"><span class="std std-ref">authentication_header</span></a>
to load Basic Auth credential.</p></li>
<li><p><strong>cluster</strong>: Allows customizing the happy eyeballs algorithm for an upstream cluster by configuring
<a class="reference internal" href="../../api-v3/config/cluster/v3/cluster.proto.html#envoy-v3-api-field-config-cluster-v3-upstreamconnectionoptions-happy-eyeballs-config"><span class="std std-ref">happy_eyeballs_config</span></a>.
A default configuration will be used if not provided. This behavior can be reverted
by setting the runtime guard <code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.use_config_in_happy_eyeballs</span></code> to false.</p></li>
<li><p><strong>dns</strong>: for the <a class="reference internal" href="../../intro/arch_overview/upstream/service_discovery.html#arch-overview-service-discovery-types-strict-dns"><span class="std std-ref">strict DNS</span></a> and <a class="reference internal" href="../../intro/arch_overview/upstream/service_discovery.html#arch-overview-service-discovery-types-logical-dns"><span class="std std-ref">logical DNS</span></a> cluster types,
the new <a class="reference internal" href="../../api-v3/config/cluster/v3/cluster.proto.html#envoy-v3-api-field-config-cluster-v3-cluster-dns-jitter"><span class="std std-ref">dns_jitter</span></a> field, if
provided, will causes the cluster to refresh DNS entries later by a random amount of time as to
avoid stampedes of DNS requests. This field sets the upper bound (exclusive) for the random amount.</p></li>
<li><p><strong>ext_authz</strong>: Added <a class="reference internal" href="../../api-v3/extensions/filters/http/ext_authz/v3/ext_authz.proto.html#envoy-v3-api-field-extensions-filters-http-ext-authz-v3-extauthz-emit-filter-state-stats"><span class="std std-ref">emit_filter_state_stats</span></a>
which enables filter state stats for access logging.</p></li>
<li><p><strong>ext_authz</strong>: Added config field
<a class="reference internal" href="../../api-v3/extensions/filters/http/ext_authz/v3/ext_authz.proto.html#envoy-v3-api-field-extensions-filters-http-ext-authz-v3-extauthz-filter-metadata"><span class="std std-ref">filter_metadata</span></a>
for injecting arbitrary data to the filter state for logging.</p></li>
<li><p><strong>ext_proc</strong>: Added allow list
<a class="reference internal" href="../../api-v3/extensions/filters/http/ext_proc/v3/ext_proc.proto.html#envoy-v3-api-field-extensions-filters-http-ext-proc-v3-externalprocessor-allowed-override-modes"><span class="std std-ref">allowed_override_modes</span></a>
for <a class="reference internal" href="../../api-v3/service/ext_proc/v3/external_processor.proto.html#envoy-v3-api-field-service-ext-proc-v3-processingresponse-mode-override"><span class="std std-ref">mode_override</span></a>.</p></li>
<li><p><strong>extension_discovery_service</strong>: added ECDS support for <a class="reference internal" href="../../api-v3/extensions/filters/udp/udp_proxy/v3/udp_proxy.proto.html#envoy-v3-api-field-extensions-filters-udp-udp-proxy-v3-udpproxyconfig-sessionfilter-config-discovery"><span class="std std-ref">UDP session filters</span></a>.</p></li>
<li><p><strong>formatter</strong>: Added full feature absl::FormatTime() support to the DateFormatter. This allows the timepoint formatters (like
<code class="docutils literal notranslate"><span class="pre">%START_TIME%</span></code>) to use <code class="docutils literal notranslate"><span class="pre">%E#S</span></code>, <code class="docutils literal notranslate"><span class="pre">%E*S</span></code>, <code class="docutils literal notranslate"><span class="pre">%E#f</span></code> and <code class="docutils literal notranslate"><span class="pre">%E*f</span></code> to format the subsecond part of the timepoint.</p></li>
<li><p><strong>geoip</strong>: Added <code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.mmdb_files_reload_enabled</span></code> runtime flag that enables reload of mmdb files by default.</p></li>
<li><p><strong>getaddrinfo</strong>: Added <a class="reference internal" href="../../api-v3/extensions/network/dns_resolver/getaddrinfo/v3/getaddrinfo_dns_resolver.proto.html#envoy-v3-api-field-extensions-network-dns-resolver-getaddrinfo-v3-getaddrinfodnsresolverconfig-num-retries"><span class="std std-ref">num_retries</span></a>
to configure the number of DNS resolution retries. If this field is not provided, the <code class="docutils literal notranslate"><span class="pre">getaddrinfo</span></code>
resolver will retry indefinitely until it
succeeds or the DNS query times out. This behavior can be reverted by setting the runtime guard
<code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.getaddrinfo_num_retries</span></code> to false.</p></li>
<li><p><strong>getaddrinfo</strong>: Added <code class="docutils literal notranslate"><span class="pre">envoy.enable_dfp_dns_trace</span></code> runtime flag to enable DNS query trace in the DNS resolution details.</p></li>
<li><p><strong>grpc_field_extraction</strong>: Added <code class="docutils literal notranslate"><span class="pre">map&lt;string,</span> <span class="pre">string&gt;</span></code> support: Target fields of type <code class="docutils literal notranslate"><span class="pre">map&lt;string,</span> <span class="pre">string&gt;</span></code> can be extracted and added to dynamic metadata.</p></li>
<li><p><strong>http</strong>: Added configuration setting for the <a class="reference internal" href="../../api-v3/config/core/v3/protocol.proto.html#envoy-v3-api-field-config-core-v3-httpprotocoloptions-max-response-headers-kb"><span class="std std-ref">maximum size of response headers</span></a> in responses. The default can
be overridden with runtime key <code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.max_response_headers_size_kb</span></code>.</p></li>
<li><p><strong>http3</strong>: <code class="docutils literal notranslate"><span class="pre">http3_protocol_options</span></code> in <code class="docutils literal notranslate"><span class="pre">HttpConnectionManager</span></code> has been upgraded to general access.</p></li>
<li><p><strong>http_11_proxy</strong>: Added the option to configure the transport socket via locality or endpoint metadata.</p></li>
<li><p><strong>jwt_authn</strong>: Added missing implementation to jwt_authn matchers to allow glob pattern matching.</p></li>
<li><p><strong>load_balancing</strong>: Added a new WIP implementation of <a class="reference internal" href="../../api-v3/extensions/load_balancing_policies/client_side_weighted_round_robin/v3/client_side_weighted_round_robin.proto.html#envoy-v3-api-msg-extensions-load-balancing-policies-client-side-weighted-round-robin-v3-clientsideweightedroundrobin"><span class="std std-ref">client_side_weighted_round_robin</span></a>
load balancing policy that uses <code class="docutils literal notranslate"><span class="pre">OrcaLoadReport</span></code> provided by the upstream host to calculate host load balancing weight.</p></li>
<li><p><strong>local_ratelimit</strong>: Add the <a class="reference internal" href="../../api-v3/extensions/filters/http/local_ratelimit/v3/local_rate_limit.proto.html#envoy-v3-api-field-extensions-filters-http-local-ratelimit-v3-localratelimit-rate-limits"><span class="std std-ref">rate_limits</span></a>
field to generate rate limit descriptors. If this field is set, the
<a class="reference internal" href="../../api-v3/config/route/v3/route_components.proto.html#envoy-v3-api-field-config-route-v3-virtualhost-rate-limits"><span class="std std-ref">VirtualHost.rate_limits</span></a> or
<a class="reference internal" href="../../api-v3/config/route/v3/route_components.proto.html#envoy-v3-api-field-config-route-v3-routeaction-rate-limits"><span class="std std-ref">RouteAction.rate_limits</span></a> fields
will be ignored.</p></li>
<li><p><strong>lua</strong>: Added two new methods <code class="docutils literal notranslate"><span class="pre">oidsPeerCertificate()</span></code> and <code class="docutils literal notranslate"><span class="pre">oidsLocalCertificate()</span></code> to SSL
connection object API <a class="reference internal" href="../../configuration/http/http_filters/lua_filter.html#config-http-filters-lua-ssl-socket-info"><span class="std std-ref">SSL connection info object</span></a>.</p></li>
<li><p><strong>matching</strong>: Added dynamic metadata matcher support <a class="reference internal" href="../../api-v3/extensions/matching/common_inputs/network/v3/network_inputs.proto.html#extension-envoy-matching-inputs-dynamic-metadata"><span class="std std-ref">Dynamic metadata input</span></a>
and <a class="reference internal" href="../../api-v3/extensions/matching/input_matchers/metadata/v3/metadata.proto.html#extension-envoy-matching-matchers-metadata-matcher"><span class="std std-ref">Dynamic metadata input matcher</span></a>.</p></li>
<li><p><strong>oauth</strong>: Added <a class="reference internal" href="../../api-v3/extensions/filters/http/oauth2/v3/oauth.proto.html#envoy-v3-api-field-extensions-filters-http-oauth2-v3-oauth2config-disable-access-token-set-cookie"><span class="std std-ref">disable_access_token_set_cookie</span></a>
to disable setting the Access Token cookie.</p></li>
<li><p><strong>oauth</strong>: Added <a class="reference internal" href="../../api-v3/extensions/filters/http/oauth2/v3/oauth.proto.html#envoy-v3-api-field-extensions-filters-http-oauth2-v3-oauth2config-disable-refresh-token-set-cookie"><span class="std std-ref">disable_refresh_token_set_cookie</span></a>
to disable setting the Refresh Token cookie.</p></li>
<li><p><strong>oauth</strong>: Added <a class="reference internal" href="../../api-v3/extensions/filters/http/oauth2/v3/oauth.proto.html#envoy-v3-api-field-extensions-filters-http-oauth2-v3-oauth2config-retry-policy"><span class="std std-ref">retry_policy</span></a> to reconnect to
the auth server when a connection fails to be established.
Added <a class="reference internal" href="../../api-v3/extensions/filters/http/oauth2/v3/oauth.proto.html#envoy-v3-api-field-extensions-filters-http-oauth2-v3-oauth2credentials-cookie-domain"><span class="std std-ref">cookie_domain</span></a>
field to OAuth2 filter to allow setting the domain of cookies.
Added a nonce to the state parameter in the authorization request to mitigate CSRF attacks. The nonce is generated by the
OAuth2 filter and stored in a cookie. This feature is enabled by defaut starting from this release.</p></li>
<li><p><strong>original_ip_detection extension</strong>: The <a class="reference internal" href="../../api-v3/extensions/http/original_ip_detection/xff/v3/xff.proto.html#envoy-v3-api-msg-extensions-http-original-ip-detection-xff-v3-xffconfig"><span class="std std-ref">xff</span></a>
original IP detection method now supports using a list of trusted CIDRs when parsing <code class="docutils literal notranslate"><span class="pre">x-forwarded-for</span></code>.</p></li>
<li><p><strong>quic</strong>: Added QUIC protocol option <a class="reference internal" href="../../api-v3/config/listener/v3/quic_config.proto.html#envoy-v3-api-field-config-listener-v3-quicprotocoloptions-reject-new-connections"><span class="std std-ref">reject_new_connections</span></a> to reject connection-establishing
packets at the QUIC layer.</p></li>
<li><p><strong>quic</strong>: Added QUIC protocol option <a class="reference internal" href="../../api-v3/config/listener/v3/quic_config.proto.html#envoy-v3-api-field-config-listener-v3-quicprotocoloptions-save-cmsg-config"><span class="std std-ref">save_cmsg_config</span></a> to optionally specify a CMSG header type to be
propagated from the first packet on the connection to QuicListenerFilter.</p></li>
<li><p><strong>quic</strong>: Added <code class="docutils literal notranslate"><span class="pre">max_packet_length</span></code> to the QUIC protocol options to allow users to change the largest
size of a QUIC packet that can be transmitted over the QUIC connection.</p></li>
<li><p><strong>quic</strong>: QUIC server and client support certificate compression, which can in some cases reduce the number of round trips
required to setup a connection. This change temporarily disabled by setting the runtime flag
<code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.quic_support_certificate_compression</span></code> to <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></li>
<li><p><strong>ratelimit</strong>: Added the ability to modify <a class="reference internal" href="../../api-v3/service/ratelimit/v3/rls.proto.html#envoy-v3-api-field-service-ratelimit-v3-ratelimitrequest-hits-addend"><span class="std std-ref">hits_addend</span></a>
by setting by setting filter state value <code class="docutils literal notranslate"><span class="pre">envoy.ratelimit.hits_addend</span></code> to the desired value.</p></li>
<li><p><strong>rbac</strong>: Added <a class="reference internal" href="../../api-v3/extensions/filters/network/rbac/v3/rbac.proto.html#envoy-v3-api-msg-extensions-filters-network-rbac-v3-rbac"><span class="std std-ref">delay_deny</span></a> to support deny connection after
the configured duration.</p></li>
<li><p><strong>redis</strong>: Added support for publish.</p></li>
<li><p><strong>redis_proxy</strong>: Added <a class="reference internal" href="../../api-v3/extensions/filters/network/redis_proxy/v3/redis_proxy.proto.html#envoy-v3-api-msg-extensions-filters-network-redis-proxy-v3-redisproxy"><span class="std std-ref">external_auth_provider</span></a> to support
external authentication for redis proxy.</p></li>
<li><p><strong>resource_monitors</strong>: Added possibility to monitor CPU utilization in Linux based systems via <a class="reference internal" href="../../api-v3/extensions/resource_monitors/cpu_utilization/v3/cpu_utilization.proto.html#envoy-v3-api-msg-extensions-resource-monitors-cpu-utilization-v3-cpuutilizationconfig"><span class="std std-ref">cpu utilization monitor</span></a> in overload manager.</p></li>
<li><p><strong>sockets</strong>: Added socket <code class="docutils literal notranslate"><span class="pre">type</span></code> field for specifying a socket type to apply the socket option to under <a class="reference internal" href="../../api-v3/config/core/v3/socket_option.proto.html#envoy-v3-api-msg-config-core-v3-socketoption"><span class="std std-ref">SocketOption</span></a>. If not specified, the socket option will be applied to all socket
types.</p></li>
<li><p><strong>tls</strong>: Added <a class="reference internal" href="../../api-v3/extensions/transport_sockets/tls/v3/tls.proto.html#envoy-v3-api-field-extensions-transport-sockets-tls-v3-downstreamtlscontext-prefer-client-ciphers"><span class="std std-ref">prefer_client_ciphers</span></a>
to support enabling client cipher preference instead of server’s for TLS handshakes.</p></li>
<li><p><strong>tls</strong>: Added an extension point <a class="reference internal" href="../../api-v3/extensions/transport_sockets/tls/v3/tls.proto.html#envoy-v3-api-field-extensions-transport-sockets-tls-v3-commontlscontext-custom-tls-certificate-selector"><span class="std std-ref">custom_tls_certificate_selector</span></a>
to allow overriding TLS certificate selection behavior.
An extension can select certificate base on the incoming SNI, in both sync and async mode.</p></li>
<li><p><strong>udp_access_logs</strong>: Added support for <code class="docutils literal notranslate"><span class="pre">%BYTES_RECEIVED%</span></code>, <code class="docutils literal notranslate"><span class="pre">%BYTES_SENT%</span></code>, <code class="docutils literal notranslate"><span class="pre">%UPSTREAM_HEADER_BYTES_SENT%</span></code>, <code class="docutils literal notranslate"><span class="pre">%UPSTREAM_HEADER_BYTES_RECEIVED%</span></code>,
<code class="docutils literal notranslate"><span class="pre">%UPSTREAM_WIRE_BYTES_SENT%</span></code>, <code class="docutils literal notranslate"><span class="pre">%UPSTREAM_WIRE_BYTES_RECEIVED%</span></code> access log substitution strings for UDP tunneling flows.</p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="v1.32.1.html" class="btn btn-neutral float-left" title="1.32.1 (October 29, 2024)" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../v1.31/v1.31.html" class="btn btn-neutral float-right" title="v1.31" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2016-2025, Envoy Project Authors.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>