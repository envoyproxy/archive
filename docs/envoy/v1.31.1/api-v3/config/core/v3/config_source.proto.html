<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Configuration sources (proto) &mdash; envoy tag-v1.31.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../../_static/pygments.css?v=d7d10ef0" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/css/envoy.css?v=3ec0219e" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/tabs.css?v=4da122e5" />

  
    <link rel="shortcut icon" href="../../../../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../../../_static/documentation_options.js?v=84016e23"></script>
        <script src="../../../../_static/doctools.js?v=9a2dae69"></script>
        <script src="../../../../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../../../../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../../../../_static/copybutton.js?v=db7b0edf"></script>
    <script src="../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="Consistent hashing matcher (proto)" href="../../../extensions/matching/input_matchers/consistent_hashing/v3/consistent_hashing.proto.html" />
    <link rel="prev" title="Common SSL matching inputs (proto)" href="../../../extensions/matching/common_inputs/ssl/v3/ssl_inputs.proto.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../../index.html">
            
              <img src="../../../../_static/envoy-logo.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                tag-v1.31.1
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../about_docs.html">About the documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../intro/intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../start/start.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../configuration/configuration.html">Configuration reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../operations/operations.html">Operations and administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../extending/extending.html">Extending Envoy for custom use cases</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../../api/api.html">API</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../../../api/api_supported_versions.html">Supported API versions</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../../api.html">v3 API reference</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../../bootstrap/bootstrap.html">Bootstrap</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../listeners/listeners.html">Listeners</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../clusters/clusters.html">Clusters</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../http_routes/http_routes.html">HTTP route management</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../config.html">Extensions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../admin/admin.html">Admin</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../data/data.html">Envoy data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../service/service.html">Services</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../../../common_messages/common_messages.html">Common messages</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../../../extensions/common/async_files/v3/async_file_manager.proto.html">AsyncFileManager configuration (proto)</a></li>
<li class="toctree-l4"><a class="reference internal" href="backoff.proto.html">Backoff strategy (proto)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../service/discovery/v3/discovery.proto.html">Common discovery API components (proto)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../extensions/filters/common/fault/v3/fault.proto.html">Common fault injection types (proto)</a></li>
<li class="toctree-l4"><a class="reference internal" href="base.proto.html">Common types (proto)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../extensions/filters/common/matcher/action/v3/skip_action.proto.html">Common match actions (proto)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../extensions/matching/common_inputs/network/v3/network_inputs.proto.html">Common network matching inputs (proto)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../extensions/common/ratelimit/v3/ratelimit.proto.html">Common rate limit components (proto)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../extensions/matching/common_inputs/ssl/v3/ssl_inputs.proto.html">Common SSL matching inputs (proto)</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">Configuration sources (proto)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../extensions/matching/input_matchers/consistent_hashing/v3/consistent_hashing.proto.html">Consistent hashing matcher (proto)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../extensions/network/socket_interface/v3/default_socket_interface.proto.html">Default socket interface configuration (proto)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../extensions/matching/common_inputs/environment_variable/v3/input.proto.html">Environment variable input (proto)</a></li>
<li class="toctree-l4"><a class="reference internal" href="extension.proto.html">Extension configuration (proto)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../extensions/common/matching/v3/extension_matcher.proto.html">Extension matcher (proto)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../extensions/filters/common/dependency/v3/dependency.proto.html">Filter dependency specification (proto)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../extensions/regex_engines/v3/google_re2.proto.html">Google RE2 (proto)</a></li>
<li class="toctree-l4"><a class="reference internal" href="grpc_method_list.proto.html">gRPC method list (proto)</a></li>
<li class="toctree-l4"><a class="reference internal" href="http_service.proto.html">HTTP services (proto)</a></li>
<li class="toctree-l4"><a class="reference internal" href="grpc_service.proto.html">gRPC services (proto)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../extensions/key_value/file_based/v3/config.proto.html">Key/value file-based store storage plugin (proto)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../common/key_value/v3/config.proto.html">Key/value store storage plugin (proto)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../common/mutation_rules/v3/mutation_rules.proto.html">Header mutation rules (proto)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../extensions/early_data/v3/default_early_data_policy.proto.html">HTTP request early data policy (proto)</a></li>
<li class="toctree-l4"><a class="reference internal" href="http_uri.proto.html">HTTP service URI  (proto)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../extensions/matching/input_matchers/ip/v3/ip.proto.html">IP matcher (proto)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../extensions/matching/input_matchers/runtime_fraction/v3/runtime_fraction.proto.html">Runtime matcher (proto)</a></li>
<li class="toctree-l4"><a class="reference internal" href="address.proto.html">Network addresses (proto)</a></li>
<li class="toctree-l4"><a class="reference internal" href="protocol.proto.html">Protocol options (proto)</a></li>
<li class="toctree-l4"><a class="reference internal" href="proxy_protocol.proto.html">Proxy protocol (proto)</a></li>
<li class="toctree-l4"><a class="reference internal" href="resolver.proto.html">Resolver (proto)</a></li>
<li class="toctree-l4"><a class="reference internal" href="socket_option.proto.html">Socket option (proto)</a></li>
<li class="toctree-l4"><a class="reference internal" href="substitution_format_string.proto.html">Substitution format string (proto)</a></li>
<li class="toctree-l4"><a class="reference internal" href="udp_socket_config.proto.html">UDP socket config (proto)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../extensions/filters/common/set_filter_state/v3/value.proto.html">Set-Filter-State filter state value (proto)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../common_messages/common_messages_xds.html">Common messages (XDS)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../types/types.html">Types</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../api-docs/xds_protocol.html">xDS REST and gRPC protocol</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../api/client_features.html">Well Known Client Features</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../faq/overview.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../version_history/version_history.html">Version history</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">envoy</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../../../api/api.html">API</a></li>
          <li class="breadcrumb-item"><a href="../../../api.html">v3 API reference</a></li>
          <li class="breadcrumb-item"><a href="../../../common_messages/common_messages.html">Common messages</a></li>
      <li class="breadcrumb-item active">Configuration sources (proto)</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../../_sources/api-v3/config/core/v3/config_source.proto.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="configuration-sources-proto">
<span id="envoy-v3-api-file-envoy-config-core-v3-config-source-proto"></span><h1>Configuration sources (proto)<a class="headerlink" href="#configuration-sources-proto" title="Link to this heading"></a></h1>
<section id="config-core-v3-apiconfigsource">
<span id="envoy-v3-api-msg-config-core-v3-apiconfigsource"></span><h2>config.core.v3.ApiConfigSource<a class="headerlink" href="#config-core-v3-apiconfigsource" title="Link to this heading"></a></h2>
<p><a class="extlink-repo reference external" href="https://github.com/envoyproxy/envoy/blob/v1.31.1/api/envoy/config/core/v3/config_source.proto#L43">[config.core.v3.ApiConfigSource proto]</a></p>
<p>API configuration source. This identifies the API type and cluster that Envoy
will use to fetch an xDS API.</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;api_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="err">...</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;transport_api_version&quot;</span><span class="p">:</span><span class="w"> </span><span class="err">...</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;cluster_names&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span>
<span class="w">  </span><span class="nt">&quot;grpc_services&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span>
<span class="w">  </span><span class="nt">&quot;refresh_delay&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;request_timeout&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;rate_limit_settings&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;set_node_on_first_message_only&quot;</span><span class="p">:</span><span class="w"> </span><span class="err">...</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;config_validators&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="simple" id="envoy-v3-api-field-config-core-v3-apiconfigsource-api-type">
<dt>api_type</dt><dd><p>(<a class="reference internal" href="#envoy-v3-api-enum-config-core-v3-apiconfigsource-apitype"><span class="std std-ref">config.core.v3.ApiConfigSource.ApiType</span></a>) API type (gRPC, REST, delta gRPC)</p>
</dd>
</dl>
<dl class="simple" id="envoy-v3-api-field-config-core-v3-apiconfigsource-transport-api-version">
<dt>transport_api_version</dt><dd><p>(<a class="reference internal" href="#envoy-v3-api-enum-config-core-v3-apiversion"><span class="std std-ref">config.core.v3.ApiVersion</span></a>) API version for xDS transport protocol. This describes the xDS gRPC/REST
endpoint and version of [Delta]DiscoveryRequest/Response used on the wire.</p>
</dd>
</dl>
<dl id="envoy-v3-api-field-config-core-v3-apiconfigsource-cluster-names">
<dt>cluster_names</dt><dd><p>(<strong>repeated</strong> <a class="reference external" href="https://developers.google.com/protocol-buffers/docs/proto#scalar">string</a>) Cluster names should be used only with REST. If &gt; 1
cluster is defined, clusters will be cycled through if any kind of failure
occurs.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The cluster with name <code class="docutils literal notranslate"><span class="pre">cluster_name</span></code> must be statically defined and its
type must not be <code class="docutils literal notranslate"><span class="pre">EDS</span></code>.</p>
</div>
</dd>
</dl>
<dl class="simple" id="envoy-v3-api-field-config-core-v3-apiconfigsource-grpc-services">
<dt>grpc_services</dt><dd><p>(<strong>repeated</strong> <a class="reference internal" href="grpc_service.proto.html#envoy-v3-api-msg-config-core-v3-grpcservice"><span class="std std-ref">config.core.v3.GrpcService</span></a>) Multiple gRPC services be provided for GRPC. If &gt; 1 cluster is defined,
services will be cycled through if any kind of failure occurs.</p>
</dd>
</dl>
<dl class="simple" id="envoy-v3-api-field-config-core-v3-apiconfigsource-refresh-delay">
<dt>refresh_delay</dt><dd><p>(<a class="reference external" href="https://developers.google.com/protocol-buffers/docs/reference/google.protobuf#duration">Duration</a>) For REST APIs, the delay between successive polls.</p>
</dd>
</dl>
<dl class="simple" id="envoy-v3-api-field-config-core-v3-apiconfigsource-request-timeout">
<dt>request_timeout</dt><dd><p>(<a class="reference external" href="https://developers.google.com/protocol-buffers/docs/reference/google.protobuf#duration">Duration</a>) For REST APIs, the request timeout. If not set, a default value of 1s will be used.</p>
</dd>
</dl>
<dl class="simple" id="envoy-v3-api-field-config-core-v3-apiconfigsource-rate-limit-settings">
<dt>rate_limit_settings</dt><dd><p>(<a class="reference internal" href="#envoy-v3-api-msg-config-core-v3-ratelimitsettings"><span class="std std-ref">config.core.v3.RateLimitSettings</span></a>) For GRPC APIs, the rate limit settings. If present, discovery requests made by Envoy will be
rate limited.</p>
</dd>
</dl>
<dl class="simple" id="envoy-v3-api-field-config-core-v3-apiconfigsource-set-node-on-first-message-only">
<dt>set_node_on_first_message_only</dt><dd><p>(<a class="reference external" href="https://developers.google.com/protocol-buffers/docs/proto#scalar">bool</a>) Skip the node identifier in subsequent discovery requests for streaming gRPC config types.</p>
</dd>
</dl>
<dl id="envoy-v3-api-field-config-core-v3-apiconfigsource-config-validators">
<dt>config_validators</dt><dd><p>(<strong>repeated</strong> <a class="reference internal" href="extension.proto.html#envoy-v3-api-msg-config-core-v3-typedextensionconfig"><span class="std std-ref">config.core.v3.TypedExtensionConfig</span></a>) A list of config validators that will be executed when a new update is
received from the ApiConfigSource. Note that each validator handles a
specific xDS service type, and only the validators corresponding to the
type url (in <code class="docutils literal notranslate"><span class="pre">:ref:</span> <span class="pre">DiscoveryResponse</span></code> or <code class="docutils literal notranslate"><span class="pre">:ref:</span> <span class="pre">DeltaDiscoveryResponse</span></code>)
will be invoked.
If the validator returns false or throws an exception, the config will be rejected by
the client, and a NACK will be sent.</p>
<div class="admonition tip" id="extension-category-envoy-config-validators">
<p class="admonition-title">Tip</p>
<p>This extension category has the following known extensions:</p>
<ul class="simple">
<li><p><a class="reference internal" href="../../../extensions/config/validators/minimum_clusters/v3/minimum_clusters.proto.html#extension-envoy-config-validators-minimum-clusters-validator"><span class="std std-ref">envoy.config.validators.minimum_clusters_validator</span></a></p></li>
</ul>
</div>
</dd>
</dl>
</section>
<section id="enum-config-core-v3-apiconfigsource-apitype">
<span id="envoy-v3-api-enum-config-core-v3-apiconfigsource-apitype"></span><h2>Enum config.core.v3.ApiConfigSource.ApiType<a class="headerlink" href="#enum-config-core-v3-apiconfigsource-apitype" title="Link to this heading"></a></h2>
<p><a class="extlink-repo reference external" href="https://github.com/envoyproxy/envoy/blob/v1.31.1/api/envoy/config/core/v3/config_source.proto#L47">[config.core.v3.ApiConfigSource.ApiType proto]</a></p>
<p>APIs may be fetched via either REST or gRPC.</p>
<dl class="simple" id="envoy-v3-api-enum-value-config-core-v3-apiconfigsource-apitype-deprecated-and-unavailable-do-not-use">
<dt>DEPRECATED_AND_UNAVAILABLE_DO_NOT_USE</dt><dd><p><em>(DEFAULT)</em> ⁣Ideally this would be ‘reserved 0’ but one can’t reserve the default
value. Instead we throw an exception if this is ever used.</p>
</dd>
</dl>
<dl class="simple" id="envoy-v3-api-enum-value-config-core-v3-apiconfigsource-apitype-rest">
<dt>REST</dt><dd><p>⁣REST-JSON v2 API. The <a class="reference external" href="https://developers.google.com/protocol-buffers/docs/proto3#json">canonical JSON encoding</a> for
the v2 protos is used.</p>
</dd>
</dl>
<dl class="simple" id="envoy-v3-api-enum-value-config-core-v3-apiconfigsource-apitype-grpc">
<dt>GRPC</dt><dd><p>⁣SotW gRPC service.</p>
</dd>
</dl>
<dl class="simple" id="envoy-v3-api-enum-value-config-core-v3-apiconfigsource-apitype-delta-grpc">
<dt>DELTA_GRPC</dt><dd><p>⁣Using the delta xDS gRPC service, i.e. DeltaDiscovery{Request,Response}
rather than Discovery{Request,Response}. Rather than sending Envoy the entire state
with every update, the xDS server only sends what has changed since the last update.</p>
</dd>
</dl>
</section>
<section id="config-core-v3-aggregatedconfigsource">
<span id="envoy-v3-api-msg-config-core-v3-aggregatedconfigsource"></span><h2>config.core.v3.AggregatedConfigSource<a class="headerlink" href="#config-core-v3-aggregatedconfigsource" title="Link to this heading"></a></h2>
<p><a class="extlink-repo reference external" href="https://github.com/envoyproxy/envoy/blob/v1.31.1/api/envoy/config/core/v3/config_source.proto#L125">[config.core.v3.AggregatedConfigSource proto]</a></p>
<p>Aggregated Discovery Service (ADS) options. This is currently empty, but when
set in <a class="reference internal" href="#envoy-v3-api-msg-config-core-v3-configsource"><span class="std std-ref">ConfigSource</span></a> can be used to
specify that ADS is to be used.</p>
</section>
<section id="config-core-v3-ratelimitsettings">
<span id="envoy-v3-api-msg-config-core-v3-ratelimitsettings"></span><h2>config.core.v3.RateLimitSettings<a class="headerlink" href="#config-core-v3-ratelimitsettings" title="Link to this heading"></a></h2>
<p><a class="extlink-repo reference external" href="https://github.com/envoyproxy/envoy/blob/v1.31.1/api/envoy/config/core/v3/config_source.proto#L143">[config.core.v3.RateLimitSettings proto]</a></p>
<p>Rate Limit settings to be applied for discovery requests made by Envoy.</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;max_tokens&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;fill_rate&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="simple" id="envoy-v3-api-field-config-core-v3-ratelimitsettings-max-tokens">
<dt>max_tokens</dt><dd><p>(<a class="reference external" href="https://developers.google.com/protocol-buffers/docs/reference/google.protobuf#uint32value">UInt32Value</a>) Maximum number of tokens to be used for rate limiting discovery request calls. If not set, a
default value of 100 will be used.</p>
</dd>
</dl>
<dl class="simple" id="envoy-v3-api-field-config-core-v3-ratelimitsettings-fill-rate">
<dt>fill_rate</dt><dd><p>(<a class="reference external" href="https://developers.google.com/protocol-buffers/docs/reference/google.protobuf#doublevalue">DoubleValue</a>) Rate at which tokens will be filled per second. If not set, a default fill rate of 10 tokens
per second will be used. The minimal fill rate is once per year. Lower
fill rates will be set to once per year.</p>
</dd>
</dl>
</section>
<section id="config-core-v3-pathconfigsource">
<span id="envoy-v3-api-msg-config-core-v3-pathconfigsource"></span><h2>config.core.v3.PathConfigSource<a class="headerlink" href="#config-core-v3-pathconfigsource" title="Link to this heading"></a></h2>
<p><a class="extlink-repo reference external" href="https://github.com/envoyproxy/envoy/blob/v1.31.1/api/envoy/config/core/v3/config_source.proto#L158">[config.core.v3.PathConfigSource proto]</a></p>
<p>Local filesystem path configuration source.</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;path&quot;</span><span class="p">:</span><span class="w"> </span><span class="err">...</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;watched_directory&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<dl id="envoy-v3-api-field-config-core-v3-pathconfigsource-path">
<dt>path</dt><dd><p>(<a class="reference external" href="https://developers.google.com/protocol-buffers/docs/proto#scalar">string</a>, <em>REQUIRED</em>) Path on the filesystem to source and watch for configuration updates.
When sourcing configuration for a <a class="reference internal" href="../../../extensions/transport_sockets/tls/v3/secret.proto.html#envoy-v3-api-msg-extensions-transport-sockets-tls-v3-secret"><span class="std std-ref">secret</span></a>,
the certificate and key files are also watched for updates.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The path to the source must exist at config load time.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If <code class="docutils literal notranslate"><span class="pre">watched_directory</span></code> is <em>not</em> configured, Envoy will watch the file path for <em>moves</em>.
This is because in general only moves are atomic. The same method of swapping files as is
demonstrated in the <a class="reference internal" href="../../../../configuration/operations/runtime.html#config-runtime-symbolic-link-swap"><span class="std std-ref">runtime documentation</span></a> can be
used here also. If <code class="docutils literal notranslate"><span class="pre">watched_directory</span></code> is configured, no watch will be placed directly on
this path. Instead, the configured <code class="docutils literal notranslate"><span class="pre">watched_directory</span></code> will be used to trigger reloads of
this path. This is required in certain deployment scenarios. See below for more information.</p>
</div>
</dd>
</dl>
<dl id="envoy-v3-api-field-config-core-v3-pathconfigsource-watched-directory">
<dt>watched_directory</dt><dd><p>(<a class="reference internal" href="base.proto.html#envoy-v3-api-msg-config-core-v3-watcheddirectory"><span class="std std-ref">config.core.v3.WatchedDirectory</span></a>) If configured, this directory will be watched for <em>moves</em>. When an entry in this directory is
moved to, the <code class="docutils literal notranslate"><span class="pre">path</span></code> will be reloaded. This is required in certain deployment scenarios.</p>
<p>Specifically, if trying to load an xDS resource using a
<a class="reference external" href="https://kubernetes.io/docs/concepts/configuration/configmap/">Kubernetes ConfigMap</a>, the
following configuration might be used:
1. Store xds.yaml inside a ConfigMap.
2. Mount the ConfigMap to <code class="docutils literal notranslate"><span class="pre">/config_map/xds</span></code>
3. Configure path <code class="docutils literal notranslate"><span class="pre">/config_map/xds/xds.yaml</span></code>
4. Configure watched directory <code class="docutils literal notranslate"><span class="pre">/config_map/xds</span></code></p>
<p>The above configuration will ensure that Envoy watches the owning directory for moves which is
required due to how Kubernetes manages ConfigMap symbolic links during atomic updates.</p>
</dd>
</dl>
</section>
<section id="config-core-v3-configsource">
<span id="envoy-v3-api-msg-config-core-v3-configsource"></span><h2>config.core.v3.ConfigSource<a class="headerlink" href="#config-core-v3-configsource" title="Link to this heading"></a></h2>
<p><a class="extlink-repo reference external" href="https://github.com/envoyproxy/envoy/blob/v1.31.1/api/envoy/config/core/v3/config_source.proto#L200">[config.core.v3.ConfigSource proto]</a></p>
<p>Configuration for <a class="reference internal" href="../../../../configuration/listeners/listeners.html#config-listeners"><span class="std std-ref">listeners</span></a>, <a class="reference internal" href="../../../../configuration/upstream/cluster_manager/cluster_manager.html#config-cluster-manager"><span class="std std-ref">clusters</span></a>, <a class="reference internal" href="../../route/v3/route.proto.html#envoy-v3-api-msg-config-route-v3-routeconfiguration"><span class="std std-ref">routes</span></a>, <a class="reference internal" href="../../../../intro/arch_overview/upstream/service_discovery.html#arch-overview-service-discovery"><span class="std std-ref">endpoints</span></a> etc. may either be sourced from the
filesystem or from an xDS API source. Filesystem configs are watched with
inotify for updates.</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;path&quot;</span><span class="p">:</span><span class="w"> </span><span class="err">...</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;path_config_source&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;api_config_source&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;ads&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;initial_fetch_timeout&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;resource_api_version&quot;</span><span class="p">:</span><span class="w"> </span><span class="err">...</span>
<span class="p">}</span>
</pre></div>
</div>
<dl id="envoy-v3-api-field-config-core-v3-configsource-path">
<dt>path</dt><dd><p>(<a class="reference external" href="https://developers.google.com/protocol-buffers/docs/proto#scalar">string</a>) Deprecated in favor of <code class="docutils literal notranslate"><span class="pre">path_config_source</span></code>. Use that field instead.</p>
<p>Precisely one of <a class="reference internal" href="#envoy-v3-api-field-config-core-v3-configsource-path"><span class="std std-ref">path</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-core-v3-configsource-path-config-source"><span class="std std-ref">path_config_source</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-core-v3-configsource-api-config-source"><span class="std std-ref">api_config_source</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-core-v3-configsource-ads"><span class="std std-ref">ads</span></a> must be set.</p>
</dd>
</dl>
<dl id="envoy-v3-api-field-config-core-v3-configsource-path-config-source">
<dt>path_config_source</dt><dd><p>(<a class="reference internal" href="#envoy-v3-api-msg-config-core-v3-pathconfigsource"><span class="std std-ref">config.core.v3.PathConfigSource</span></a>) Local filesystem path configuration source.</p>
<p>Precisely one of <a class="reference internal" href="#envoy-v3-api-field-config-core-v3-configsource-path"><span class="std std-ref">path</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-core-v3-configsource-path-config-source"><span class="std std-ref">path_config_source</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-core-v3-configsource-api-config-source"><span class="std std-ref">api_config_source</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-core-v3-configsource-ads"><span class="std std-ref">ads</span></a> must be set.</p>
</dd>
</dl>
<dl id="envoy-v3-api-field-config-core-v3-configsource-api-config-source">
<dt>api_config_source</dt><dd><p>(<a class="reference internal" href="#envoy-v3-api-msg-config-core-v3-apiconfigsource"><span class="std std-ref">config.core.v3.ApiConfigSource</span></a>) API configuration source.</p>
<p>Precisely one of <a class="reference internal" href="#envoy-v3-api-field-config-core-v3-configsource-path"><span class="std std-ref">path</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-core-v3-configsource-path-config-source"><span class="std std-ref">path_config_source</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-core-v3-configsource-api-config-source"><span class="std std-ref">api_config_source</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-core-v3-configsource-ads"><span class="std std-ref">ads</span></a> must be set.</p>
</dd>
</dl>
<dl id="envoy-v3-api-field-config-core-v3-configsource-ads">
<dt>ads</dt><dd><p>(<a class="reference internal" href="#envoy-v3-api-msg-config-core-v3-aggregatedconfigsource"><span class="std std-ref">config.core.v3.AggregatedConfigSource</span></a>) When set, ADS will be used to fetch resources. The ADS API configuration
source in the bootstrap configuration is used.</p>
<p>Precisely one of <a class="reference internal" href="#envoy-v3-api-field-config-core-v3-configsource-path"><span class="std std-ref">path</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-core-v3-configsource-path-config-source"><span class="std std-ref">path_config_source</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-core-v3-configsource-api-config-source"><span class="std std-ref">api_config_source</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-core-v3-configsource-ads"><span class="std std-ref">ads</span></a> must be set.</p>
</dd>
</dl>
<dl class="simple" id="envoy-v3-api-field-config-core-v3-configsource-initial-fetch-timeout">
<dt>initial_fetch_timeout</dt><dd><p>(<a class="reference external" href="https://developers.google.com/protocol-buffers/docs/reference/google.protobuf#duration">Duration</a>) When this timeout is specified, Envoy will wait no longer than the specified time for first
config response on this xDS subscription during the <a class="reference internal" href="../../../../intro/arch_overview/operations/init.html#arch-overview-initialization"><span class="std std-ref">initialization process</span></a>. After reaching the timeout, Envoy will move to the next
initialization phase, even if the first config is not delivered yet. The timer is activated
when the xDS API subscription starts, and is disarmed on first config update or on error. 0
means no timeout - Envoy will wait indefinitely for the first xDS config (unless another
timeout applies). The default is 15s.</p>
</dd>
</dl>
<dl class="simple" id="envoy-v3-api-field-config-core-v3-configsource-resource-api-version">
<dt>resource_api_version</dt><dd><p>(<a class="reference internal" href="#envoy-v3-api-enum-config-core-v3-apiversion"><span class="std std-ref">config.core.v3.ApiVersion</span></a>) API version for xDS resources. This implies the type URLs that the client
will request for resources and the resource type that the client will in
turn expect to be delivered.</p>
</dd>
</dl>
</section>
<section id="config-core-v3-extensionconfigsource">
<span id="envoy-v3-api-msg-config-core-v3-extensionconfigsource"></span><h2>config.core.v3.ExtensionConfigSource<a class="headerlink" href="#config-core-v3-extensionconfigsource" title="Link to this heading"></a></h2>
<p><a class="extlink-repo reference external" href="https://github.com/envoyproxy/envoy/blob/v1.31.1/api/envoy/config/core/v3/config_source.proto#L265">[config.core.v3.ExtensionConfigSource proto]</a></p>
<p>Configuration source specifier for a late-bound extension configuration. The
parent resource is warmed until all the initial extension configurations are
received, unless the flag to apply the default configuration is set.
Subsequent extension updates are atomic on a per-worker basis. Once an
extension configuration is applied to a request or a connection, it remains
constant for the duration of processing. If the initial delivery of the
extension configuration fails, due to a timeout for example, the optional
default configuration is applied. Without a default configuration, the
extension is disabled, until an extension configuration is received. The
behavior of a disabled extension depends on the context. For example, a
filter chain with a disabled extension filter rejects all incoming streams.</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;config_source&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;default_config&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;apply_default_config_without_warming&quot;</span><span class="p">:</span><span class="w"> </span><span class="err">...</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;type_urls&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="simple" id="envoy-v3-api-field-config-core-v3-extensionconfigsource-config-source">
<dt>config_source</dt><dd><p>(<a class="reference internal" href="#envoy-v3-api-msg-config-core-v3-configsource"><span class="std std-ref">config.core.v3.ConfigSource</span></a>)</p>
</dd>
</dl>
<dl class="simple" id="envoy-v3-api-field-config-core-v3-extensionconfigsource-default-config">
<dt>default_config</dt><dd><p>(<a class="reference external" href="https://developers.google.com/protocol-buffers/docs/reference/google.protobuf#any">Any</a>) Optional default configuration to use as the initial configuration if
there is a failure to receive the initial extension configuration or if
<code class="docutils literal notranslate"><span class="pre">apply_default_config_without_warming</span></code> flag is set.</p>
</dd>
</dl>
<dl class="simple" id="envoy-v3-api-field-config-core-v3-extensionconfigsource-apply-default-config-without-warming">
<dt>apply_default_config_without_warming</dt><dd><p>(<a class="reference external" href="https://developers.google.com/protocol-buffers/docs/proto#scalar">bool</a>) Use the default config as the initial configuration without warming and
waiting for the first discovery response. Requires the default configuration
to be supplied.</p>
</dd>
</dl>
<dl class="simple" id="envoy-v3-api-field-config-core-v3-extensionconfigsource-type-urls">
<dt>type_urls</dt><dd><p>(<strong>repeated</strong> <a class="reference external" href="https://developers.google.com/protocol-buffers/docs/proto#scalar">string</a>, <em>REQUIRED</em>) A set of permitted extension type URLs. Extension configuration updates are rejected
if they do not match any type URL in the set.</p>
</dd>
</dl>
</section>
<section id="enum-config-core-v3-apiversion">
<span id="envoy-v3-api-enum-config-core-v3-apiversion"></span><h2>Enum config.core.v3.ApiVersion<a class="headerlink" href="#enum-config-core-v3-apiversion" title="Link to this heading"></a></h2>
<p><a class="extlink-repo reference external" href="https://github.com/envoyproxy/envoy/blob/v1.31.1/api/envoy/config/core/v3/config_source.proto#L29">[config.core.v3.ApiVersion proto]</a></p>
<p>xDS API and non-xDS services version. This is used to describe both resource and transport
protocol versions (in distinct configuration fields).</p>
<dl class="simple" id="envoy-v3-api-enum-value-config-core-v3-apiversion-auto">
<dt>AUTO</dt><dd><p><em>(DEFAULT)</em> ⁣When not specified, we assume v3; it is the only supported version.</p>
</dd>
</dl>
<dl class="simple" id="envoy-v3-api-enum-value-config-core-v3-apiversion-v2">
<dt>V2</dt><dd><p>⁣Use xDS v2 API. This is no longer supported.</p>
</dd>
</dl>
<dl class="simple" id="envoy-v3-api-enum-value-config-core-v3-apiversion-v3">
<dt>V3</dt><dd><p>⁣Use xDS v3 API.</p>
</dd>
</dl>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../../../extensions/matching/common_inputs/ssl/v3/ssl_inputs.proto.html" class="btn btn-neutral float-left" title="Common SSL matching inputs (proto)" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../../../extensions/matching/input_matchers/consistent_hashing/v3/consistent_hashing.proto.html" class="btn btn-neutral float-right" title="Consistent hashing matcher (proto)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2016-2024, Envoy Project Authors.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>