

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>1.21.0 (January 12, 2022) &mdash; envoy tag-v1.34.4 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=d7d10ef0" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/envoy.css?v=3ec0219e" />
      <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../../_static/tabs.css?v=4da122e5" />

  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=b1f995e1"></script>
      <script src="../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../../_static/copybutton.js?v=db7b0edf"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="v1.20" href="../v1.20/v1.20.html" />
    <link rel="prev" title="1.21.1 (February 22, 2022)" href="v1.21.1.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html">
            
              <img src="../../_static/envoy-logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../about_docs.html">About the documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../intro/intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../start/start.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../configuration/configuration.html">Configuration reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../operations/operations.html">Operations and administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../extending/extending.html">Extending Envoy for custom use cases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/api.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../faq/overview.html">FAQ</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../version_history.html">Version history</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../version_history.html#stable-versions">Stable versions</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../version_history.html#archived-versions">Archived versions</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../v1.30/v1.30.html">v1.30: 1.30.11 (March 25, 2025)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../v1.29/v1.29.html">v1.29: 1.29.12 (December 18, 2024)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../v1.28/v1.28.html">v1.28: 1.28.7 (September 19, 2024)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../v1.27/v1.27.html">v1.27: 1.27.7 (June 28, 2024)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../v1.26/v1.26.html">v1.26: 1.26.8 (April 4, 2024)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../v1.25/v1.25.html">v1.25: 1.25.11 (October 16, 2023)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../v1.24/v1.24.html">v1.24: 1.24.11 (October 10, 2023)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../v1.23/v1.23.html">v1.23: 1.23.12 (July 25, 2023)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../v1.22/v1.22.html">v1.22: 1.22.11 (April 11, 2023)</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="v1.21.html">v1.21: 1.21.6 (November 28, 2022)</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="v1.21.6.html">1.21.6 (November 28, 2022)</a></li>
<li class="toctree-l4"><a class="reference internal" href="v1.21.5.html">1.21.5 (July 25, 2022)</a></li>
<li class="toctree-l4"><a class="reference internal" href="v1.21.4.html">1.21.4 (June 14, 2022)</a></li>
<li class="toctree-l4"><a class="reference internal" href="v1.21.3.html">1.21.3 (June 9, 2022)</a></li>
<li class="toctree-l4"><a class="reference internal" href="v1.21.2.html">1.21.2 (April 27, 2022)</a></li>
<li class="toctree-l4"><a class="reference internal" href="v1.21.1.html">1.21.1 (February 22, 2022)</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">1.21.0 (January 12, 2022)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../v1.20/v1.20.html">v1.20: 1.20.7 (July 21, 2022)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../v1.19/v1.19.html">v1.19: 1.19.5 (June 9, 2022)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../v1.18/v1.18.html">v1.18: 1.18.6 (February 22, 2022)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../v1.17/v1.17.html">v1.17: 1.17.4 (August 24, 2021)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../v1.16/v1.16.html">v1.16: 1.16.5 (August 24, 2021)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../v1.15/v1.15.html">v1.15: 1.15.5 (May 11, 2021)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../v1.14/v1.14.html">v1.14: 1.14.7 (April 15, 2020)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../v1.13/v1.13.html">v1.13: 1.13.8 (January 15, 2021)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../v1.12/v1.12.html">v1.12: 1.12.7 (September 29, 2020)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../v1.11/v1.11.html">v1.11: 1.11.2 (October 8, 2019)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../v1.10/v1.10.html">v1.10: 1.10.0 (April 5, 2019)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../v1.9/v1.9.html">v1.9: 1.9.1 (April 2, 2019)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../v1.8/v1.8.html">v1.8: 1.8.0 (October 4, 2018)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../v1.7/v1.7.html">v1.7: 1.7.1 (August 3, 2018)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../v1.6/v1.6.html">v1.6: 1.6.0 (March 20, 2018)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../v1.5/v1.5.html">v1.5: 1.5.0 (December 4, 2017)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../v1.4/v1.4.html">v1.4: 1.4.0 (August 24, 2017)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../v1.3/v1.3.html">v1.3: 1.3.0 (May 17, 2017)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../v1.2/v1.2.html">v1.2: 1.2.0 (March 7, 2017)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../v1.1/v1.1.html">v1.1: 1.1.0 (November 30, 2016)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../v1.0/v1.0.html">v1.0: 1.0.0 (September 12, 2016)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../version_history.html#deprecation-policy">Deprecation Policy</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">envoy</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../version_history.html">Version history</a></li>
          <li class="breadcrumb-item"><a href="v1.21.html">v1.21</a></li>
      <li class="breadcrumb-item active">1.21.0 (January 12, 2022)</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/version_history/v1.21/v1.21.0.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="january-12-2022">
<span id="version-history-1-21-0"></span><h1>1.21.0 (January 12, 2022)<a class="headerlink" href="#january-12-2022" title="Link to this heading"></a></h1>
<section id="incompatible-behavior-changes">
<h2>Incompatible behavior changes<a class="headerlink" href="#incompatible-behavior-changes" title="Link to this heading"></a></h2>
<p><em>Changes that are expected to cause an incompatibility if applicable; deployment changes are likely required</em></p>
<ul class="simple">
<li><p><strong>auto_config</strong>: <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.21.6/api-v3/extensions/upstreams/http/v3/http_protocol_options.proto.html#envoy-v3-api-field-extensions-upstreams-http-v3-httpprotocoloptions-auto-config" title="(in envoy vtag-v1.21.6)"><span class="xref std std-ref">auto_config</span></a> now verifies that
any transport sockets configured via <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.21.6/api-v3/config/cluster/v3/cluster.proto.html#envoy-v3-api-field-config-cluster-v3-cluster-transport-socket-matches" title="(in envoy vtag-v1.21.6)"><span class="xref std std-ref">transport_socket_matches</span></a> support ALPN. This behavioral change can be
temporarily reverted by setting runtime guard <code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.correctly_validate_alpn</span></code> to false.</p></li>
<li><p><strong>xds</strong>: <code class="docutils literal notranslate"><span class="pre">*</span></code> became a reserved name for a wildcard resource that can be subscribed to and unsubscribed from at any time. This
is a requirement for implementing the on-demand xDSes (like on-demand CDS) that can subscribe to specific resources next
to their wildcard subscription. If such xDS is subscribed to both wildcard resource and to other specific resource, then
in stream reconnection scenario, the xDS will not send an empty initial request, but a request containing <code class="docutils literal notranslate"><span class="pre">*</span></code> for
wildcard subscription and the rest of the resources the xDS is subscribed to. If the xDS is only subscribed to wildcard
resource, it will try to send a legacy wildcard request. This behavior implements the recent changes in <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.21.6/api-docs/xds_protocol.html#xds-protocol" title="(in envoy vtag-v1.21.6)"><span class="xref std std-ref">xDS
protocol</span></a> and can be temporarily reverted by setting the
<code class="docutils literal notranslate"><span class="pre">envoy.restart_features.explicit_wildcard_resource</span></code> runtime guard to false.</p></li>
</ul>
</section>
<section id="minor-behavior-changes">
<h2>Minor behavior changes<a class="headerlink" href="#minor-behavior-changes" title="Link to this heading"></a></h2>
<p><em>Changes that may cause incompatibilities for some users, but should not for most</em></p>
<ul class="simple">
<li><p><strong>bandwidth_limit</strong>: added <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.21.6/configuration/http/http_filters/bandwidth_limit_filter.html#config-http-filters-bandwidth-limit" title="(in envoy vtag-v1.21.6)"><span class="xref std std-ref">bandwidth limit stats</span></a> <code class="docutils literal notranslate"><span class="pre">request_enforced</span></code> and <code class="docutils literal notranslate"><span class="pre">response_enforced</span></code>.</p></li>
<li><p><strong>bandwidth_limit</strong>: added <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.21.6/api-v3/extensions/filters/http/bandwidth_limit/v3/bandwidth_limit.proto.html#envoy-v3-api-field-extensions-filters-http-bandwidth-limit-v3-bandwidthlimit-enable-response-trailers" title="(in envoy vtag-v1.21.6)"><span class="xref std std-ref">response trailers</span></a> when request or
response delay are enforced.</p></li>
<li><p><strong>dns</strong>: now respecting the returned DNS TTL for resolved hosts, rather than always relying on the hard-coded
<a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.21.6/api-v3/config/cluster/v3/cluster.proto.html#envoy-v3-api-field-config-cluster-v3-cluster-dns-refresh-rate" title="(in envoy vtag-v1.21.6)"><span class="xref std std-ref">dns_refresh_rate.</span></a>. This behavior can be
temporarily reverted by setting the runtime guard <code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.use_dns_ttl</span></code> to false.</p></li>
<li><p><strong>ext_authz</strong>: the ext_authz span was always getting sampled, even if the parent span was not; now the ext_authz span follows the
parent’s sampling status.</p></li>
<li><p><strong>http</strong>: directly responding with only a 1xx http status code isn’t valid, and is now refused as invalid <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.21.6/api-v3/config/route/v3/route_components.proto.html#envoy-v3-api-field-config-route-v3-route-direct-response" title="(in envoy vtag-v1.21.6)"><span class="xref std std-ref">direct_response</span></a> config.</p></li>
<li><p><strong>http</strong>: envoy will now proxy 102 and 103 headers from upstream, though as with 100s only the first 1xx response headers will be
sent. This behavioral change by can temporarily reverted by setting runtime guard
<code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.proxy_102_103</span></code> to false.</p></li>
<li><p><strong>http</strong>: usage of the experimental matching API is no longer guarded behind a feature flag, as the corresponding protobuf fields
have been marked as WIP.</p></li>
<li><p><strong>http</strong>: when a downstream connection hits a configured <code class="docutils literal notranslate"><span class="pre">max_requests_per_connection</span></code>, it will send an HTTP/2 “shutdown
notification” (GOAWAY frame with max stream ID) and go to a default grace period of 5000 milliseconds (5 seconds) if
<a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.21.6/api-v3/extensions/filters/network/http_connection_manager/v3/http_connection_manager.proto.html#envoy-v3-api-field-extensions-filters-network-http-connection-manager-v3-httpconnectionmanager-drain-timeout" title="(in envoy vtag-v1.21.6)"><span class="xref std std-ref">drain_timeout</span></a> is not
specified. During this grace period, envoy will continue to accept new streams. After the grace period, a final GOAWAY
is sent and envoy will start refusing new streams. However before the bugfix, during the grace period, every time a new
stream is received, envoy would restart the drain which caused the grace period to be extended and so making it longer
than the configured drain timeout.</p></li>
<li><p><strong>json</strong>: switching from rapidjson to nlohmann/json. This behavioral change can be temporarily reverted by setting runtime guard
<code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.remove_legacy_json</span></code> to false.</p></li>
<li><p><strong>listener</strong>: destroy per network filter chain stats when a network filter chain is removed during the listener in place update.</p></li>
<li><p><strong>router</strong>: take elapsed time into account when setting the <code class="docutils literal notranslate"><span class="pre">x-envoy-expected-rq-timeout-ms</span> <span class="pre">header</span></code> for retries, and never send a
value that’s longer than the request timeout. This behavioral change can be temporarily reverted by setting runtime
guard <code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.update_expected_rq_timeout_on_retry</span></code> to false.</p></li>
<li><p><strong>stream_info</strong>: response code details with empty space characters (’ ‘, ‘\t’, ‘\f’, ‘\v’, ‘\n’, ‘\r’) is not accepted by the
<code class="docutils literal notranslate"><span class="pre">setResponseCodeDetails()</span></code> API.</p></li>
<li><p><strong>upstream</strong>: fixed a bug where auto_config didn’t work for wrapped TLS sockets (e.g. if proxy proto were configured for TLS).</p></li>
</ul>
</section>
<section id="bug-fixes">
<h2>Bug fixes<a class="headerlink" href="#bug-fixes" title="Link to this heading"></a></h2>
<p><em>Changes expected to improve the state of the world and are unlikely to have negative effects</em></p>
<ul class="simple">
<li><p><strong>ext_authz</strong>: fix the ext_authz http filter to correctly set response flags to <code class="docutils literal notranslate"><span class="pre">UAEX</span></code> when a connection is denied.</p></li>
<li><p><strong>ext_authz</strong>: fix the ext_authz network filter to correctly set response flag and code details to <code class="docutils literal notranslate"><span class="pre">UAEX</span></code> when a connection is
denied.</p></li>
<li><p><strong>hcm</strong>: stop processing the response if encoding it has caused downstream reset. The fix is guarded by
<code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.handle_stream_reset_during_hcm_encoding</span></code>.</p></li>
<li><p><strong>listener</strong>: fixed issue where more than one listener could listen on the same port if using reuse port, thus randomly accepting
connections on different listeners. This configuration is now rejected.</p></li>
<li><p><strong>tcp</strong>: fixing a log error where errors both from the kernel and the transport were not handled gracefully.</p></li>
<li><p><strong>thrift_proxy</strong>: do not close downstream connections when an upstream connection overflow happens.</p></li>
<li><p><strong>thrift_proxy</strong>: fix the thrift_proxy connection manager to correctly report success/error response metrics when performing <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.21.6/api-v3/extensions/filters/network/thrift_proxy/v3/thrift_proxy.proto.html#envoy-v3-api-field-extensions-filters-network-thrift-proxy-v3-thriftproxy-payload-passthrough" title="(in envoy vtag-v1.21.6)"><span class="xref std std-ref">payload
passthrough</span></a>.</p></li>
</ul>
</section>
<section id="removed-config-or-runtime">
<h2>Removed config or runtime<a class="headerlink" href="#removed-config-or-runtime" title="Link to this heading"></a></h2>
<p><em>Normally occurs at the end of the</em> <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.21.6/version_history/version_history.html#deprecated" title="(in envoy vtag-v1.21.6)"><span class="xref std std-ref">deprecation period</span></a></p>
<ul class="simple">
<li><p><strong>compression</strong>: removed <code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.enable_compression_without_content_length_header</span></code> runtime guard and legacy code
paths.</p></li>
<li><p><strong>grpc-web</strong>: removed <code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.grpc_web_fix_non_proto_encoded_response_handling</span></code> and legacy code paths.</p></li>
<li><p><strong>header map</strong>: removed <code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.header_map_correctly_coalesce_cookies</span></code> and legacy code paths.</p></li>
<li><p><strong>health check</strong>: removed <code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.health_check.immediate_failure_exclude_from_cluster</span></code> runtime guard and legacy code
paths.</p></li>
<li><p><strong>http</strong>: removed <code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.add_and_validate_scheme_header</span></code> and legacy code paths.</p></li>
<li><p><strong>http</strong>: removed <code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.check_unsupported_typed_per_filter_config</span></code>, Envoy will always check unsupported
typed per filter config if the filter isn’t optional.</p></li>
<li><p><strong>http</strong>: removed <code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.dont_add_content_length_for_bodiless_requests</span></code> and legacy code paths.</p></li>
<li><p><strong>http</strong>: removed <code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.grpc_json_transcoder_adhere_to_buffer_limits</span></code> and legacy code paths.</p></li>
<li><p><strong>http</strong>: removed <code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.http2_skip_encoding_empty_trailers</span></code> and legacy code paths. Envoy will always encode
empty trailers by sending empty data with <code class="docutils literal notranslate"><span class="pre">end_stream</span></code> true (instead of sending empty trailers) for HTTP/2.</p></li>
<li><p><strong>http</strong>: removed <code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.improved_stream_limit_handling</span></code> and legacy code paths.</p></li>
<li><p><strong>http</strong>: removed <code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.remove_forked_chromium_url</span></code> and legacy code paths.</p></li>
<li><p><strong>http</strong>: removed <code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.return_502_for_upstream_protocol_errors</span></code>. Envoy will always return 502 code upon
encountering upstream protocol error.</p></li>
<li><p><strong>http</strong>: removed <code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.treat_host_like_authority</span></code> and legacy code paths.</p></li>
<li><p><strong>http</strong>: removed <code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.treat_upstream_connect_timeout_as_connect_failure</span></code> and legacy code paths.</p></li>
<li><p><strong>http</strong>: removed <code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.upstream_http2_flood_checks</span></code> and legacy code paths.</p></li>
<li><p><strong>upstream</strong>: removed <code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.upstream_host_weight_change_causes_rebuild</span></code> and legacy code paths.</p></li>
</ul>
</section>
<section id="new-features">
<h2>New features<a class="headerlink" href="#new-features" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p><strong>access log</strong>: added <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.21.6/api-v3/extensions/access_loggers/grpc/v3/als.proto.html#envoy-v3-api-field-extensions-access-loggers-grpc-v3-commongrpcaccesslogconfig-custom-tags" title="(in envoy vtag-v1.21.6)"><span class="xref std std-ref">custom_tags</span></a> to
annotate log entries with custom tags.</p></li>
<li><p><strong>access log</strong>: added <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.21.6/api-v3/extensions/access_loggers/grpc/v3/als.proto.html#envoy-v3-api-field-extensions-access-loggers-grpc-v3-commongrpcaccesslogconfig-grpc-stream-retry-policy" title="(in envoy vtag-v1.21.6)"><span class="xref std std-ref">grpc_stream_retry_policy</span></a> to the gRPC
logger to reconnect when a connection fails to be established.</p></li>
<li><p><strong>access_log</strong>: added <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.21.6/api-v3/extensions/formatter/metadata/v3/metadata.proto.html#envoy-v3-api-msg-extensions-formatter-metadata-v3-metadata" title="(in envoy vtag-v1.21.6)"><span class="xref std std-ref">METADATA</span></a> token to handle all types of metadata
(DYNAMIC, CLUSTER, ROUTE).</p></li>
<li><p><strong>access_log</strong>: added a CEL extension filter to enable filtering of access logs based on Envoy attribute expressions.</p></li>
<li><p><strong>access_log</strong>: added new access_log command operator <code class="docutils literal notranslate"><span class="pre">%UPSTREAM_REQUEST_ATTEMPT_COUNT%</span></code> to retrieve the number of times given request
got attempted upstream.</p></li>
<li><p><strong>access_log</strong>: added new access_log command operator <code class="docutils literal notranslate"><span class="pre">%VIRTUAL_CLUSTER_NAME%</span></code> to retrieve the matched Virtual Cluster name.</p></li>
<li><p><strong>api</strong>: added support for <code class="docutils literal notranslate"><span class="pre">xds.type.v3.TypedStruct</span></code> in addition to the now-deprecated <code class="docutils literal notranslate"><span class="pre">udpa.type.v1.TypedStruct</span></code> proto
message, which is a wrapper proto used to encode typed JSON data in a <code class="docutils literal notranslate"><span class="pre">google.protobuf.Any</span></code> field.</p></li>
<li><p><strong>aws_request_signing_filter</strong>: added <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.21.6/api-v3/extensions/filters/http/aws_request_signing/v3/aws_request_signing.proto.html#envoy-v3-api-field-extensions-filters-http-aws-request-signing-v3-awsrequestsigning-match-excluded-headers" title="(in envoy vtag-v1.21.6)"><span class="xref std std-ref">match_excluded_headers</span></a> to the
signing filter to optionally exclude request headers from signing.</p></li>
<li><p><strong>bootstrap</strong>: added <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.21.6/api-v3/config/bootstrap/v3/bootstrap.proto.html#envoy-v3-api-field-config-bootstrap-v3-bootstrap-typed-dns-resolver-config" title="(in envoy vtag-v1.21.6)"><span class="xref std std-ref">typed_dns_resolver_config</span></a> in
the bootstrap to support DNS resolver as an extension.</p></li>
<li><p><strong>cluster</strong>: added <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.21.6/api-v3/config/cluster/v3/cluster.proto.html#envoy-v3-api-field-config-cluster-v3-cluster-typed-dns-resolver-config" title="(in envoy vtag-v1.21.6)"><span class="xref std std-ref">typed_dns_resolver_config</span></a> in the
cluster to support DNS resolver as an extension.</p></li>
<li><p><strong>config</strong>: added <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.21.6/api-v3/config/core/v3/base.proto.html#envoy-v3-api-field-config-core-v3-datasource-environment-variable" title="(in envoy vtag-v1.21.6)"><span class="xref std std-ref">environment_variable</span></a> to the
<a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.21.6/api-v3/config/core/v3/base.proto.html#envoy-v3-api-msg-config-core-v3-datasource" title="(in envoy vtag-v1.21.6)"><span class="xref std std-ref">DataSource</span></a>.</p></li>
<li><p><strong>decompressor</strong>: added <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.21.6/api-v3/extensions/filters/http/decompressor/v3/decompressor.proto.html#envoy-v3-api-field-extensions-filters-http-decompressor-v3-decompressor-commondirectionconfig-ignore-no-transform-header" title="(in envoy vtag-v1.21.6)"><span class="xref std std-ref">ignore_no_transform_header</span></a>
to run decompression regardless of the value of the <code class="docutils literal notranslate"><span class="pre">no-transform</span></code> cache control header.</p></li>
<li><p><strong>dns</strong>: added <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.21.6/api-v3/config/cluster/v3/cluster.proto.html#envoy-v3-api-enum-value-config-cluster-v3-cluster-dnslookupfamily-all" title="(in envoy vtag-v1.21.6)"><span class="xref std std-ref">ALL</span></a> option to return both IPv4 and
IPv6 addresses.</p></li>
<li><p><strong>dns_cache</strong>: added <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.21.6/api-v3/extensions/common/dynamic_forward_proxy/v3/dns_cache.proto.html#envoy-v3-api-field-extensions-common-dynamic-forward-proxy-v3-dnscacheconfig-typed-dns-resolver-config" title="(in envoy vtag-v1.21.6)"><span class="xref std std-ref">typed_dns_resolver_config</span></a> in the
dns_cache to support DNS resolver as an extension.</p></li>
<li><p><strong>dns_filter</strong>: added <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.21.6/api-v3/extensions/filters/udp/dns_filter/v3/dns_filter.proto.html#envoy-v3-api-field-extensions-filters-udp-dns-filter-v3-dnsfilterconfig-clientcontextconfig-typed-dns-resolver-config" title="(in envoy vtag-v1.21.6)"><span class="xref std std-ref">typed_dns_resolver_config</span></a>
in the dns_filter to support DNS resolver as an extension.</p></li>
<li><p><strong>dns_resolver</strong>: added <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.21.6/api-v3/extensions/network/dns_resolver/apple/v3/apple_dns_resolver.proto.html#envoy-v3-api-msg-extensions-network-dns-resolver-apple-v3-applednsresolverconfig" title="(in envoy vtag-v1.21.6)"><span class="xref std std-ref">AppleDnsResolverConfig</span></a>
to support apple DNS resolver as an extension.</p></li>
<li><p><strong>dns_resolver</strong>: added <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.21.6/api-v3/extensions/network/dns_resolver/cares/v3/cares_dns_resolver.proto.html#envoy-v3-api-msg-extensions-network-dns-resolver-cares-v3-caresdnsresolverconfig" title="(in envoy vtag-v1.21.6)"><span class="xref std std-ref">CaresDnsResolverConfig</span></a>
to support c-ares DNS resolver as an extension.</p></li>
<li><p><strong>dns_resolver</strong>: added <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.21.6/api-v3/extensions/network/dns_resolver/cares/v3/cares_dns_resolver.proto.html#envoy-v3-api-field-extensions-network-dns-resolver-cares-v3-caresdnsresolverconfig-filter-unroutable-families" title="(in envoy vtag-v1.21.6)"><span class="xref std std-ref">filter_unroutable_families</span></a> to the
c-ares DNS resolver.</p></li>
<li><p><strong>dns_resolver</strong>: added <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.21.6/api-v3/extensions/network/dns_resolver/cares/v3/cares_dns_resolver.proto.html#envoy-v3-api-field-extensions-network-dns-resolver-cares-v3-caresdnsresolverconfig-use-resolvers-as-fallback" title="(in envoy vtag-v1.21.6)"><span class="xref std std-ref">use_resolvers_as_fallback</span></a> to the
c-ares DNS resolver.</p></li>
<li><p><strong>ext_authz</strong>: added <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.21.6/api-v3/service/auth/v3/external_auth.proto.html#envoy-v3-api-field-service-auth-v3-okhttpresponse-query-parameters-to-set" title="(in envoy vtag-v1.21.6)"><span class="xref std std-ref">query_parameters_to_set</span></a> and
<a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.21.6/api-v3/service/auth/v3/external_auth.proto.html#envoy-v3-api-field-service-auth-v3-okhttpresponse-query-parameters-to-remove" title="(in envoy vtag-v1.21.6)"><span class="xref std std-ref">query_parameters_to_remove</span></a> for
adding and removing query string parameters when using a gRPC authorization server.</p></li>
<li><p><strong>grpc_http_bridge</strong>: added <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.21.6/api-v3/extensions/filters/http/grpc_http1_bridge/v3/config.proto.html#envoy-v3-api-field-extensions-filters-http-grpc-http1-bridge-v3-config-upgrade-protobuf-to-grpc" title="(in envoy vtag-v1.21.6)"><span class="xref std std-ref">upgrade_protobuf_to_grpc</span></a> option for
automatically framing protobuf payloads as gRPC requests.</p></li>
<li><p><strong>grpc_json_transcoder</strong>: added support for matching unregistered custom verb <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.21.6/api-v3/extensions/filters/http/grpc_json_transcoder/v3/transcoder.proto.html#envoy-v3-api-field-extensions-filters-http-grpc-json-transcoder-v3-grpcjsontranscoder-match-unregistered-custom-verb" title="(in envoy vtag-v1.21.6)"><span class="xref std std-ref">match_unregistered_custom_verb</span></a>.</p></li>
<li><p><strong>http</strong>: added support for <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.21.6/api-v3/extensions/http/header_formatters/preserve_case/v3/preserve_case.proto.html#envoy-v3-api-field-extensions-http-header-formatters-preserve-case-v3-preservecaseformatterconfig-forward-reason-phrase" title="(in envoy vtag-v1.21.6)"><span class="xref std std-ref">forwarding HTTP1 reason phrase</span></a>.</p></li>
<li><p><strong>http</strong>: added support for <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.21.6/api-v3/config/core/v3/health_check.proto.html#envoy-v3-api-field-config-core-v3-healthcheck-httphealthcheck-retriable-statuses" title="(in envoy vtag-v1.21.6)"><span class="xref std std-ref">retriable health check status codes</span></a>.</p></li>
<li><p><strong>http</strong>: added support for <code class="docutils literal notranslate"><span class="pre">%REQUESTED_SERVER_NAME%</span></code> to extract SNI as a custom header.</p></li>
<li><p><strong>http</strong>: added support for <code class="docutils literal notranslate"><span class="pre">%VIRTUAL_CLUSTER_NAME%</span></code> to extract the matched Virtual Cluster name as a custom header.</p></li>
<li><p><strong>http</strong>: added timing information about upstream connection and encryption establishment to stream info. These can currently be
accessed via custom access loggers.</p></li>
<li><p><strong>listener</strong>: added API for extensions to access <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.21.6/api-v3/config/core/v3/base.proto.html#envoy-v3-api-field-config-core-v3-metadata-typed-filter-metadata" title="(in envoy vtag-v1.21.6)"><span class="xref std std-ref">typed_filter_metadata</span></a> configured in the listener’s <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.21.6/api-v3/config/listener/v3/listener.proto.html#envoy-v3-api-field-config-listener-v3-listener-metadata" title="(in envoy vtag-v1.21.6)"><span class="xref std std-ref">metadata</span></a> field.</p></li>
<li><p><strong>listener</strong>: added support for <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.21.6/api-v3/config/listener/v3/listener.proto.html#envoy-v3-api-field-config-listener-v3-listener-enable-mptcp" title="(in envoy vtag-v1.21.6)"><span class="xref std std-ref">MPTCP</span></a> (multipath TCP).</p></li>
<li><p><strong>listener</strong>: added support for opting out listeners from the globally set downstream connection limit via
<a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.21.6/api-v3/config/listener/v3/listener.proto.html#envoy-v3-api-field-config-listener-v3-listener-ignore-global-conn-limit" title="(in envoy vtag-v1.21.6)"><span class="xref std std-ref">ignore_global_conn_limit</span></a>.</p></li>
<li><p><strong>matcher</strong>: added support for <code class="docutils literal notranslate"><span class="pre">xds.type.matcher.v3.IPMatcher</span></code> IP trie matching.</p></li>
<li><p><strong>oauth filter</strong>: added <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.21.6/api-v3/extensions/filters/http/oauth2/v3/oauth.proto.html#envoy-v3-api-field-extensions-filters-http-oauth2-v3-oauth2credentials-cookie-names" title="(in envoy vtag-v1.21.6)"><span class="xref std std-ref">cookie_names</span></a> to allow
overriding (default) cookie names (<code class="docutils literal notranslate"><span class="pre">BearerToken</span></code>, <code class="docutils literal notranslate"><span class="pre">OauthHMAC</span></code>, and <code class="docutils literal notranslate"><span class="pre">OauthExpires</span></code>) set by the filter.</p></li>
<li><p><strong>oauth filter</strong>: setting <code class="docutils literal notranslate"><span class="pre">IdToken</span></code> and <code class="docutils literal notranslate"><span class="pre">RefreshToken</span></code> cookies if they are provided by Identity provider along with <code class="docutils literal notranslate"><span class="pre">AccessToken</span></code>.</p></li>
<li><p><strong>perf</strong>: added support for <a class="reference external" href="https://perfetto.dev">Perfetto</a> performance tracing.</p></li>
<li><p><strong>router</strong>: added support for the <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.21.6/configuration/http/http_conn_man/headers.html#config-http-conn-man-headers-x-forwarded-host" title="(in envoy vtag-v1.21.6)"><span>x-forwarded-host</span></a> header.</p></li>
<li><p><strong>stateful session http filter</strong>: added <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.21.6/configuration/http/http_filters/stateful_session_filter.html#config-http-filters-stateful-session" title="(in envoy vtag-v1.21.6)"><span class="xref std std-ref">stateful session http filter</span></a>.</p></li>
<li><p><strong>stats</strong>: added text_readouts query parameter to prometheus stats to return gauges made from text readouts.</p></li>
<li><p><strong>tcp</strong>: added a <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.21.6/api-v3/type/v3/hash_policy.proto.html#envoy-v3-api-msg-type-v3-hashpolicy-filterstate" title="(in envoy vtag-v1.21.6)"><span class="xref std std-ref">FilterState</span></a> <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.21.6/api-v3/type/v3/hash_policy.proto.html#envoy-v3-api-msg-type-v3-hashpolicy" title="(in envoy vtag-v1.21.6)"><span class="xref std std-ref">hash policy</span></a>, used by <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.21.6/api-v3/extensions/filters/network/tcp_proxy/v3/tcp_proxy.proto.html#envoy-v3-api-field-extensions-filters-network-tcp-proxy-v3-tcpproxy-hash-policy" title="(in envoy vtag-v1.21.6)"><span class="xref std std-ref">TCP proxy</span></a> to allow hashing load balancer
algorithms to hash on objects in filter state.</p></li>
<li><p><strong>tcp_proxy</strong>: added support to populate upstream http connect header values from stream info.</p></li>
<li><p><strong>thrift_proxy</strong>: add header to metadata filter for turning headers into dynamic metadata.</p></li>
<li><p><strong>thrift_proxy</strong>: add host level success/error metrics where success is a reply of type success and error is any other response to a call.</p></li>
<li><p><strong>thrift_proxy</strong>: add upstream metrics to show decoding errors and whether exception is from local or remote, e.g.
<code class="docutils literal notranslate"><span class="pre">cluster.cluster_name.thrift.upstream_resp_exception_remote</span></code>.</p></li>
<li><p><strong>thrift_proxy</strong>: add upstream response zone metrics in the form
<code class="docutils literal notranslate"><span class="pre">cluster.cluster_name.zone.local_zone.upstream_zone.thrift.upstream_resp_success</span></code>.</p></li>
<li><p><strong>thrift_proxy</strong>: support header flags.</p></li>
<li><p><strong>thrift_proxy</strong>: support subset lb when using request or route metadata.</p></li>
<li><p><strong>tls</strong>: added support for <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.21.6/api-v3/extensions/transport_sockets/tls/v3/common.proto.html#envoy-v3-api-field-extensions-transport-sockets-tls-v3-certificatevalidationcontext-match-typed-subject-alt-names" title="(in envoy vtag-v1.21.6)"><span class="xref std std-ref">match_typed_subject_alt_names</span></a> for
subject alternative names to enforce specifying the subject alternative name type for the matcher to prevent matching
against an unintended type in the certificate.</p></li>
<li><p><strong>tls</strong>: added support for only verifying the leaf CRL in the certificate chain with <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.21.6/api-v3/extensions/transport_sockets/tls/v3/common.proto.html#envoy-v3-api-field-extensions-transport-sockets-tls-v3-certificatevalidationcontext-only-verify-leaf-cert-crl" title="(in envoy vtag-v1.21.6)"><span class="xref std std-ref">only_verify_leaf_cert_crl</span></a>.</p></li>
<li><p><strong>tls</strong>: support loading certificate chain and private key via <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.21.6/api-v3/extensions/transport_sockets/tls/v3/common.proto.html#envoy-v3-api-field-extensions-transport-sockets-tls-v3-tlscertificate-pkcs12" title="(in envoy vtag-v1.21.6)"><span class="xref std std-ref">pkcs12</span></a>.</p></li>
<li><p><strong>tls_inspector filter</strong>: added <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.21.6/api-v3/extensions/filters/listener/tls_inspector/v3/tls_inspector.proto.html#envoy-v3-api-field-extensions-filters-listener-tls-inspector-v3-tlsinspector-enable-ja3-fingerprinting" title="(in envoy vtag-v1.21.6)"><span class="xref std std-ref">enable_ja3_fingerprinting</span></a> to create JA3
fingerprint hash from Client Hello message.</p></li>
<li><p><strong>transport_socket</strong>: added <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.21.6/api-v3/extensions/transport_sockets/tcp_stats/v3/tcp_stats.proto.html#envoy-v3-api-msg-extensions-transport-sockets-tcp-stats-v3-config" title="(in envoy vtag-v1.21.6)"><span class="xref std std-ref">envoy.transport_sockets.tcp_stats</span></a> which
generates additional statistics gathered from the OS TCP stack.</p></li>
<li><p><strong>udp</strong>: add support for multiple listener filters.</p></li>
<li><p><strong>udp_proxy</strong>: added <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.21.6/api-v3/extensions/filters/udp/udp_proxy/v3/udp_proxy.proto.html#envoy-v3-api-field-extensions-filters-udp-udp-proxy-v3-udpproxyconfig-use-per-packet-load-balancing" title="(in envoy vtag-v1.21.6)"><span class="xref std std-ref">use_per_packet_load_balancing</span></a> option to enable
per packet load balancing (selection of upstream host on each data chunk).</p></li>
<li><p><strong>upstream</strong>: added the ability to <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.21.6/api-v3/config/core/v3/protocol.proto.html#envoy-v3-api-field-config-core-v3-httpprotocoloptions-max-connection-duration" title="(in envoy vtag-v1.21.6)"><span class="xref std std-ref">configure max connection duration</span></a> for upstream clusters.</p></li>
<li><p><strong>vcl_socket_interface</strong>: added VCL socket interface extension for fd.io VPP integration to <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.21.6/start/install.html#install-contrib" title="(in envoy vtag-v1.21.6)"><span class="xref std std-ref">contrib images</span></a>. This can be
enabled via <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.21.6/api-v3/extensions/vcl/v3alpha/vcl_socket_interface.proto.html#envoy-v3-api-msg-extensions-vcl-v3alpha-vclsocketinterface" title="(in envoy vtag-v1.21.6)"><span class="xref std std-ref">VCL</span></a> configuration.</p></li>
<li><p><strong>xds</strong>: re-introduced unified delta and sotw xDS multiplexers that share most of the implementation. Added a new runtime config
<code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.unified_mux</span></code> (disabled by default) that when enabled, switches xDS to use unified
multiplexers.</p></li>
</ul>
</section>
<section id="deprecated">
<h2>Deprecated<a class="headerlink" href="#deprecated" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p><strong>bootstrap</strong>: <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.21.6/api-v3/config/bootstrap/v3/bootstrap.proto.html#envoy-v3-api-field-config-bootstrap-v3-bootstrap-dns-resolution-config" title="(in envoy vtag-v1.21.6)"><span class="xref std std-ref">dns_resolution_config</span></a> is deprecated in
favor of <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.21.6/api-v3/config/bootstrap/v3/bootstrap.proto.html#envoy-v3-api-field-config-bootstrap-v3-bootstrap-typed-dns-resolver-config" title="(in envoy vtag-v1.21.6)"><span class="xref std std-ref">typed_dns_resolver_config</span></a>.</p></li>
<li><p><strong>cluster</strong>: <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.21.6/api-v3/config/cluster/v3/cluster.proto.html#envoy-v3-api-field-config-cluster-v3-cluster-dns-resolution-config" title="(in envoy vtag-v1.21.6)"><span class="xref std std-ref">dns_resolution_config</span></a> is deprecated in favor
of <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.21.6/api-v3/config/cluster/v3/cluster.proto.html#envoy-v3-api-field-config-cluster-v3-cluster-typed-dns-resolver-config" title="(in envoy vtag-v1.21.6)"><span class="xref std std-ref">typed_dns_resolver_config</span></a>.</p></li>
<li><p><strong>dns_cache</strong>: <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.21.6/api-v3/extensions/common/dynamic_forward_proxy/v3/dns_cache.proto.html#envoy-v3-api-field-extensions-common-dynamic-forward-proxy-v3-dnscacheconfig-dns-resolution-config" title="(in envoy vtag-v1.21.6)"><span class="xref std std-ref">dns_resolution_config</span></a> is deprecated in
favor of <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.21.6/api-v3/extensions/common/dynamic_forward_proxy/v3/dns_cache.proto.html#envoy-v3-api-field-extensions-common-dynamic-forward-proxy-v3-dnscacheconfig-typed-dns-resolver-config" title="(in envoy vtag-v1.21.6)"><span class="xref std std-ref">typed_dns_resolver_config</span></a>.</p></li>
<li><p><strong>dns_filter</strong>: <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.21.6/api-v3/extensions/filters/udp/dns_filter/v3/dns_filter.proto.html#envoy-v3-api-field-extensions-filters-udp-dns-filter-v3-dnsfilterconfig-clientcontextconfig-dns-resolution-config" title="(in envoy vtag-v1.21.6)"><span class="xref std std-ref">dns_resolution_config</span></a> is
deprecated in favor of <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.21.6/api-v3/extensions/filters/udp/dns_filter/v3/dns_filter.proto.html#envoy-v3-api-field-extensions-filters-udp-dns-filter-v3-dnsfilterconfig-clientcontextconfig-typed-dns-resolver-config" title="(in envoy vtag-v1.21.6)"><span class="xref std std-ref">typed_dns_resolver_config</span></a>.</p></li>
<li><p><strong>tls</strong>: <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.21.6/api-v3/extensions/transport_sockets/tls/v3/common.proto.html#envoy-v3-api-field-extensions-transport-sockets-tls-v3-certificatevalidationcontext-match-subject-alt-names" title="(in envoy vtag-v1.21.6)"><span class="xref std std-ref">match_subject_alt_names</span></a> has been
deprecated in favor of the <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.21.6/api-v3/extensions/transport_sockets/tls/v3/common.proto.html#envoy-v3-api-field-extensions-transport-sockets-tls-v3-certificatevalidationcontext-match-typed-subject-alt-names" title="(in envoy vtag-v1.21.6)"><span class="xref std std-ref">match_typed_subject_alt_names</span></a>.</p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="v1.21.1.html" class="btn btn-neutral float-left" title="1.21.1 (February 22, 2022)" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../v1.20/v1.20.html" class="btn btn-neutral float-right" title="v1.20" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2016-2025, Envoy Project Authors.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>