

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>1.30.6 (September 19, 2024) &mdash; envoy tag-v1.33.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=d7d10ef0" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/envoy.css?v=3ec0219e" />
      <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../../_static/tabs.css?v=4da122e5" />

  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=c3d37e88"></script>
      <script src="../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../../_static/copybutton.js?v=db7b0edf"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="1.30.5 (September 14, 2024)" href="v1.30.5.html" />
    <link rel="prev" title="1.30.7 (October 29, 2024)" href="v1.30.7.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html">
            
              <img src="../../_static/envoy-logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../about_docs.html">About the documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../intro/intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../start/start.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../configuration/configuration.html">Configuration reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../operations/operations.html">Operations and administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../extending/extending.html">Extending Envoy for custom use cases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/api.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../faq/overview.html">FAQ</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../version_history.html">Version history</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../version_history.html#stable-versions">Stable versions</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../v1.33/v1.33.html">v1.33: 1.33.0 (January 14, 2025)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../v1.32/v1.32.html">v1.32: 1.32.3 (December 18, 2024)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../v1.31/v1.31.html">v1.31: 1.31.5 (December 18, 2024)</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="v1.30.html">v1.30: 1.30.9 (December 18, 2024)</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="v1.30.9.html">1.30.9 (December 18, 2024)</a></li>
<li class="toctree-l4"><a class="reference internal" href="v1.30.8.html">1.30.8 (November 29, 2024)</a></li>
<li class="toctree-l4"><a class="reference internal" href="v1.30.7.html">1.30.7 (October 29, 2024)</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">1.30.6 (September 19, 2024)</a></li>
<li class="toctree-l4"><a class="reference internal" href="v1.30.5.html">1.30.5 (September 14, 2024)</a></li>
<li class="toctree-l4"><a class="reference internal" href="v1.30.4.html">1.30.4 (June 30, 2024)</a></li>
<li class="toctree-l4"><a class="reference internal" href="v1.30.3.html">1.30.3 (June 26, 2024)</a></li>
<li class="toctree-l4"><a class="reference internal" href="v1.30.2.html">1.30.2 (June 5, 2024)</a></li>
<li class="toctree-l4"><a class="reference internal" href="v1.30.1.html">1.30.1 (April 18, 2024)</a></li>
<li class="toctree-l4"><a class="reference internal" href="v1.30.0.html">1.30.0 (April 16, 2024)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../version_history.html#archived-versions">Archived versions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../version_history.html#deprecation-policy">Deprecation Policy</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">envoy</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../version_history.html">Version history</a></li>
          <li class="breadcrumb-item"><a href="v1.30.html">v1.30</a></li>
      <li class="breadcrumb-item active">1.30.6 (September 19, 2024)</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/version_history/v1.30/v1.30.6.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="september-19-2024">
<span id="version-history-1-30-6"></span><h1>1.30.6 (September 19, 2024)<a class="headerlink" href="#september-19-2024" title="Link to this heading"></a></h1>
<section id="incompatible-behavior-changes">
<h2>Incompatible behavior changes<a class="headerlink" href="#incompatible-behavior-changes" title="Link to this heading"></a></h2>
<p><em>Changes that are expected to cause an incompatibility if applicable; deployment changes are likely required</em></p>
<ul class="simple">
<li><p><strong>http</strong>: The default configuration of Envoy will continue to trust internal addresses while in the future it will not trust them by default.
If you have tooling such as probes on your private network which need to be treated as trusted (e.g. changing arbitrary <code class="docutils literal notranslate"><span class="pre">x-envoy</span></code>
headers) please explictily include those addresses or CIDR ranges into <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.30.9/api-v3/extensions/filters/network/http_connection_manager/v3/http_connection_manager.proto.html#envoy-v3-api-field-extensions-filters-network-http-connection-manager-v3-httpconnectionmanager-internal-address-config" title="(in envoy vtag-v1.30.9)"><span class="xref std std-ref">internal_address_config</span></a>
See the config examples from the above <code class="docutils literal notranslate"><span class="pre">internal_address_config</span></code> link. This default no trust internal address can be turned on by
setting runtime guard <code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.explicit_internal_address_config</span></code> to <code class="docutils literal notranslate"><span class="pre">true</span></code>.</p></li>
</ul>
</section>
<section id="minor-behavior-changes">
<h2>Minor behavior changes<a class="headerlink" href="#minor-behavior-changes" title="Link to this heading"></a></h2>
<p><em>Changes that may cause incompatibilities for some users, but should not for most</em></p>
<ul class="simple">
<li><p><strong>access_log</strong>: Sanitize SNI for potential log injection. The invalid character will be replaced by <code class="docutils literal notranslate"><span class="pre">_</span></code> with an <code class="docutils literal notranslate"><span class="pre">invalid:</span></code> marker. If runtime
flag <code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.sanitize_sni_in_access_log</span></code> is set to <code class="docutils literal notranslate"><span class="pre">false</span></code>, the sanitize behavior is disabled.</p></li>
</ul>
</section>
<section id="bug-fixes">
<h2>Bug fixes<a class="headerlink" href="#bug-fixes" title="Link to this heading"></a></h2>
<p><em>Changes expected to improve the state of the world and are unlikely to have negative effects</em></p>
<ul class="simple">
<li><p><strong>http_async_client</strong>: Fixed the local reply and destroy order crashes when using the http async client for websocket handshake.</p></li>
<li><p><strong>jwt</strong>: Fixed a bug where using <code class="docutils literal notranslate"><span class="pre">clear_route_cache</span></code> with remote JWKs works
incorrectly and may cause a crash when the modified request does not match
any route.</p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="v1.30.7.html" class="btn btn-neutral float-left" title="1.30.7 (October 29, 2024)" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="v1.30.5.html" class="btn btn-neutral float-right" title="1.30.5 (September 14, 2024)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2016-2025, Envoy Project Authors.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>