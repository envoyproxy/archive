

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>xds/core/v3/resource_locator.proto (proto) &mdash; envoy tag-v1.33.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=d7d10ef0" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/envoy.css?v=3ec0219e" />
      <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../../../_static/tabs.css?v=4da122e5" />

  
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
      <script src="../../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../../_static/documentation_options.js?v=c3d37e88"></script>
      <script src="../../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../../../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../../../_static/copybutton.js?v=db7b0edf"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="xds/core/v3/resource_name.proto (proto)" href="resource_name.proto.html" />
    <link rel="prev" title="xds/core/v3/resource.proto (proto)" href="resource.proto.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../index.html">
            
              <img src="../../../_static/envoy-logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../about_docs.html">About the documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../intro/intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../start/start.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../configuration/configuration.html">Configuration reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../operations/operations.html">Operations and administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../extending/extending.html">Extending Envoy for custom use cases</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../api/api.html">API</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../../api/api_supported_versions.html">Supported API versions</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../../api-v3/api.html">v3 API reference</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../../api-v3/bootstrap/bootstrap.html">Bootstrap</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api-v3/listeners/listeners.html">Listeners</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api-v3/clusters/clusters.html">Clusters</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api-v3/http_routes/http_routes.html">HTTP route management</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api-v3/config/config.html">Extensions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api-v3/admin/admin.html">Admin</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api-v3/data/data.html">Envoy data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api-v3/service/service.html">Services</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api-v3/common_messages/common_messages.html">Common messages</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../../../api-v3/common_messages/common_messages_xds.html">Common messages (XDS)</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../../type/v3/cel.proto.html">Common Expression Language (CEL) (proto)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../type/matcher/v3/cel.proto.html">Common Expression Language (CEL) matchers (proto)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../type/matcher/v3/http_inputs.proto.html">Common HTTP Inputs (proto)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../type/matcher/v3/ip.proto.html">IP matcher (proto)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../type/v3/range.proto.html">Number range (proto)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../type/matcher/v3/range.proto.html">Range matcher (proto)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../type/matcher/v3/regex.proto.html">Regex matcher (proto)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../type/matcher/v3/domain.proto.html">Server name matcher (proto)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../type/matcher/v3/string.proto.html">String matcher (proto)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../type/matcher/v3/matcher.proto.html">Unified Matcher API (proto)</a></li>
<li class="toctree-l4"><a class="reference internal" href="authority.proto.html">xds/core/v3/authority.proto (proto)</a></li>
<li class="toctree-l4"><a class="reference internal" href="cidr.proto.html">xds/core/v3/cidr.proto (proto)</a></li>
<li class="toctree-l4"><a class="reference internal" href="collection_entry.proto.html">xds/core/v3/collection_entry.proto (proto)</a></li>
<li class="toctree-l4"><a class="reference internal" href="context_params.proto.html">xds/core/v3/context_params.proto (proto)</a></li>
<li class="toctree-l4"><a class="reference internal" href="extension.proto.html">xds/core/v3/extension.proto (proto)</a></li>
<li class="toctree-l4"><a class="reference internal" href="resource.proto.html">xds/core/v3/resource.proto (proto)</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">xds/core/v3/resource_locator.proto (proto)</a></li>
<li class="toctree-l4"><a class="reference internal" href="resource_name.proto.html">xds/core/v3/resource_name.proto (proto)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../type/v3/typed_struct.proto.html">xds/type/v3/typed_struct.proto (proto)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../data/orca/v3/orca_load_report.proto.html">xds/data/orca/v3/orca_load_report.proto (proto)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../api-v3/types/types.html">Types</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../api-docs/xds_protocol.html">xDS REST and gRPC protocol</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../api/client_features.html">Well Known Client Features</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../faq/overview.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../version_history/version_history.html">Version history</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">envoy</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../../api/api.html">API</a></li>
          <li class="breadcrumb-item"><a href="../../../api-v3/api.html">v3 API reference</a></li>
          <li class="breadcrumb-item"><a href="../../../api-v3/common_messages/common_messages_xds.html">Common messages (XDS)</a></li>
      <li class="breadcrumb-item active">xds/core/v3/resource_locator.proto (proto)</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/xds/core/v3/resource_locator.proto.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="xds-core-v3-resource-locator-proto-proto">
<span id="envoy-v3-api-file-xds-core-v3-resource-locator-proto"></span><h1>xds/core/v3/resource_locator.proto (proto)<a class="headerlink" href="#xds-core-v3-resource-locator-proto-proto" title="Link to this heading">ÔÉÅ</a></h1>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This API feature is currently work-in-progress. API features marked as work-in-progress are not considered stable, are not covered by the <a class="reference internal" href="../../../intro/arch_overview/security/threat_model.html#arch-overview-threat-model"><span class="std std-ref">threat model</span></a>, are not supported by the security team, and are subject to breaking changes. Do not use this feature without understanding each of the previous points.</p>
</div>
<section id="xds-core-v3-resourcelocator">
<span id="envoy-v3-api-msg-xds-core-v3-resourcelocator"></span><h2>.xds.core.v3.ResourceLocator<a class="headerlink" href="#xds-core-v3-resourcelocator" title="Link to this heading">ÔÉÅ</a></h2>
<p><a class="reference external" href="https://github.com/cncf/xds/blob/main/xds/core/v3/resource_locator.proto#L33">[.xds.core.v3.ResourceLocator proto]</a></p>
<p>xDS resource locators identify a xDS resource name and instruct the
data-plane load balancer on how the resource may be located.</p>
<p>Resource locators have a canonical xdstp:// URI representation:</p>
<blockquote>
<div><p>xdstp://{authority}/{type_url}/{id}?{context_params}{#directive,*}</p>
</div></blockquote>
<p>where context_params take the form of URI query parameters.</p>
<p>Resource locators have a similar canonical <a class="reference external" href="http://">http://</a> URI representation:</p>
<blockquote>
<div><p><a class="reference external" href="http:/">http:/</a>/{authority}/{type_url}/{id}?{context_params}{#directive,*}</p>
</div></blockquote>
<p>Resource locators also have a simplified <a class="reference external" href="file://">file://</a> URI representation:</p>
<blockquote>
<div><p><a class="reference external" href="file://">file://</a>/{id}{#directive,*}</p>
</div></blockquote>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;scheme&quot;</span><span class="p">:</span><span class="w"> </span><span class="err">...</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="err">...</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;authority&quot;</span><span class="p">:</span><span class="w"> </span><span class="err">...</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;resource_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="err">...</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;exact_context&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;directives&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="simple" id="envoy-v3-api-field-xds-core-v3-resourcelocator-scheme">
<dt>scheme</dt><dd><p>(<a class="reference internal" href="#envoy-v3-api-enum-xds-core-v3-resourcelocator-scheme"><span class="std std-ref">.xds.core.v3.ResourceLocator.Scheme</span></a>) URI scheme.</p>
</dd>
</dl>
<dl class="simple" id="envoy-v3-api-field-xds-core-v3-resourcelocator-id">
<dt>id</dt><dd><p>(<a class="reference external" href="https://developers.google.com/protocol-buffers/docs/proto#scalar">string</a>) Opaque identifier for the resource. Any ‚Äò/‚Äô will not be escaped during URI
encoding and will form part of the URI path. This may end
with ‚Äò*‚Äô for glob collection references.</p>
</dd>
</dl>
<dl class="simple" id="envoy-v3-api-field-xds-core-v3-resourcelocator-authority">
<dt>authority</dt><dd><p>(<a class="reference external" href="https://developers.google.com/protocol-buffers/docs/proto#scalar">string</a>) Logical authority for resource (not necessarily transport network address).
Authorities are opaque in the xDS API, data-plane load balancers will map
them to concrete network transports such as an xDS management server, e.g.
via envoy.config.core.v3.ConfigSource.</p>
</dd>
</dl>
<dl class="simple" id="envoy-v3-api-field-xds-core-v3-resourcelocator-resource-type">
<dt>resource_type</dt><dd><p>(<a class="reference external" href="https://developers.google.com/protocol-buffers/docs/proto#scalar">string</a>, <em>REQUIRED</em>) Fully qualified resource type (as in type URL without types.googleapis.com/
prefix).</p>
</dd>
</dl>
<dl class="simple" id="envoy-v3-api-field-xds-core-v3-resourcelocator-exact-context">
<dt>exact_context</dt><dd><p>(<a class="reference internal" href="context_params.proto.html#envoy-v3-api-msg-xds-core-v3-contextparams"><span class="std std-ref">.xds.core.v3.ContextParams</span></a>) Additional parameters that can be used to select resource variants.
Matches must be exact, i.e. all context parameters must match exactly and
there must be no additional context parameters set on the matched
resource.</p>
</dd>
</dl>
<dl id="envoy-v3-api-field-xds-core-v3-resourcelocator-directives">
<dt>directives</dt><dd><p>(<strong>repeated</strong> <a class="reference internal" href="#envoy-v3-api-msg-xds-core-v3-resourcelocator-directive"><span class="std std-ref">.xds.core.v3.ResourceLocator.Directive</span></a>) A list of directives that appear in the xDS resource locator #fragment.</p>
<p>When encoding to URI form, directives are percent encoded with comma
separation.</p>
</dd>
</dl>
</section>
<section id="xds-core-v3-resourcelocator-directive">
<span id="envoy-v3-api-msg-xds-core-v3-resourcelocator-directive"></span><h2>.xds.core.v3.ResourceLocator.Directive<a class="headerlink" href="#xds-core-v3-resourcelocator-directive" title="Link to this heading">ÔÉÅ</a></h2>
<p><a class="reference external" href="https://github.com/cncf/xds/blob/main/xds/core/v3/resource_locator.proto#L89">[.xds.core.v3.ResourceLocator.Directive proto]</a></p>
<p>Directives provide information to data-plane load balancers on how xDS
resource names are to be interpreted and potentially further resolved. For
example, they may provide alternative resource locators for when primary
resolution fails. Directives are not part of resource names and do not
appear in a xDS transport discovery request.</p>
<p>When encoding to URIs, directives take the form:</p>
<p>&lt;directive name&gt;=&lt;string representation of directive value&gt;</p>
<p>For example, we can have alt=xdstp://foo/bar or entry=some%20thing. Each
directive value type may have its own string encoding, in the case of
ResourceLocator there is a recursive URI encoding.</p>
<p>Percent encoding applies to the URI encoding of the directive value.
Multiple directives are comma-separated, so the reserved characters that
require percent encoding in a directive value are [‚Äò,‚Äô, ‚Äò#‚Äô, ‚Äò[‚Äô, ‚Äò]‚Äô,
‚Äò%‚Äô]. These are the RFC3986 fragment reserved characters with the addition
of the xDS scheme specific ‚Äò,‚Äô. See
<a class="reference external" href="https://tools.ietf.org/html/rfc3986#page-49">https://tools.ietf.org/html/rfc3986#page-49</a> for further details on URI ABNF
and reserved characters.</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;alt&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;entry&quot;</span><span class="p">:</span><span class="w"> </span><span class="err">...</span>
<span class="p">}</span>
</pre></div>
</div>
<dl id="envoy-v3-api-field-xds-core-v3-resourcelocator-directive-alt">
<dt>alt</dt><dd><p>(<a class="reference internal" href="#envoy-v3-api-msg-xds-core-v3-resourcelocator"><span class="std std-ref">.xds.core.v3.ResourceLocator</span></a>) An alternative resource locator for fallback if the resource is
unavailable. For example, take the resource locator:</p>
<blockquote>
<div><p>xdstp://foo/some-type/some-route-table#alt=xdstp://bar/some-type/another-route-table</p>
</div></blockquote>
<p>If the data-plane load balancer is unable to reach <cite>foo</cite> to fetch the
resource, it will fallback to <cite>bar</cite>. Alternative resources do not need
to have equivalent content, but they should be functional substitutes.</p>
<p>Precisely one of <a class="reference internal" href="#envoy-v3-api-field-xds-core-v3-resourcelocator-directive-alt"><span class="std std-ref">alt</span></a>, <a class="reference internal" href="#envoy-v3-api-field-xds-core-v3-resourcelocator-directive-entry"><span class="std std-ref">entry</span></a> must be set.</p>
</dd>
</dl>
<dl id="envoy-v3-api-field-xds-core-v3-resourcelocator-directive-entry">
<dt>entry</dt><dd><p>(<a class="reference external" href="https://developers.google.com/protocol-buffers/docs/proto#scalar">string</a>) List collections support inlining of resources via the entry field in
Resource. These inlined Resource objects may have an optional name
field specified. When specified, the entry directive allows
ResourceLocator to directly reference these inlined resources, e.g.
xdstp://‚Ä¶/foo#entry=bar.</p>
<p>Precisely one of <a class="reference internal" href="#envoy-v3-api-field-xds-core-v3-resourcelocator-directive-alt"><span class="std std-ref">alt</span></a>, <a class="reference internal" href="#envoy-v3-api-field-xds-core-v3-resourcelocator-directive-entry"><span class="std std-ref">entry</span></a> must be set.</p>
</dd>
</dl>
</section>
<section id="enum-xds-core-v3-resourcelocator-scheme">
<span id="envoy-v3-api-enum-xds-core-v3-resourcelocator-scheme"></span><h2>Enum .xds.core.v3.ResourceLocator.Scheme<a class="headerlink" href="#enum-xds-core-v3-resourcelocator-scheme" title="Link to this heading">ÔÉÅ</a></h2>
<p><a class="reference external" href="https://github.com/cncf/xds/blob/main/xds/core/v3/resource_locator.proto#L34">[.xds.core.v3.ResourceLocator.Scheme proto]</a></p>
<dl class="simple" id="envoy-v3-api-enum-value-xds-core-v3-resourcelocator-scheme-xdstp">
<dt>XDSTP</dt><dd><p><em>(DEFAULT)</em> ‚Å£</p>
</dd>
</dl>
<dl class="simple" id="envoy-v3-api-enum-value-xds-core-v3-resourcelocator-scheme-http">
<dt>HTTP</dt><dd><p>‚Å£</p>
</dd>
</dl>
<dl class="simple" id="envoy-v3-api-enum-value-xds-core-v3-resourcelocator-scheme-file">
<dt>FILE</dt><dd><p>‚Å£</p>
</dd>
</dl>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="resource.proto.html" class="btn btn-neutral float-left" title="xds/core/v3/resource.proto (proto)" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="resource_name.proto.html" class="btn btn-neutral float-right" title="xds/core/v3/resource_name.proto (proto)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2016-2025, Envoy Project Authors.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>