

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>1.33.0 (January 14, 2025) &mdash; envoy tag-v1.35.6 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=d7d10ef0" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/envoy.css?v=3ec0219e" />
      <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../../_static/tabs.css?v=4da122e5" />

  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=53acd1cb"></script>
      <script src="../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../../_static/copybutton.js?v=db7b0edf"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="v1.32" href="../v1.32/v1.32.html" />
    <link rel="prev" title="1.33.1 (March 21, 2025)" href="v1.33.1.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html">
            
              <img src="../../_static/envoy-logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../about_docs.html">About the documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../intro/intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../start/start.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../configuration/configuration.html">Configuration reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../operations/operations.html">Operations and administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../extending/extending.html">Extending Envoy for custom use cases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/api.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../faq/overview.html">FAQ</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../version_history.html">Version history</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../version_history.html#stable-versions">Stable versions</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../v1.35/v1.35.html">v1.35: 1.35.6 (October 17, 2025)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../v1.34/v1.34.html">v1.34: 1.34.10 (October 17, 2025)</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="v1.33.html">v1.33: 1.33.12 (October 16, 2025)</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="v1.33.12.html">1.33.12 (October 16, 2025)</a></li>
<li class="toctree-l4"><a class="reference internal" href="v1.33.11.html">1.33.11 (October 15, 2025)</a></li>
<li class="toctree-l4"><a class="reference internal" href="v1.33.10.html">1.33.10 (October 13, 2025)</a></li>
<li class="toctree-l4"><a class="reference internal" href="v1.33.9.html">1.33.9 (September 5, 2025)</a></li>
<li class="toctree-l4"><a class="reference internal" href="v1.33.8.html">1.33.8 (September 2, 2025)</a></li>
<li class="toctree-l4"><a class="reference internal" href="v1.33.7.html">1.33.7 (August 19, 2025)</a></li>
<li class="toctree-l4"><a class="reference internal" href="v1.33.6.html">1.33.6 (July 24, 2025)</a></li>
<li class="toctree-l4"><a class="reference internal" href="v1.33.5.html">1.33.5 (July 18, 2025)</a></li>
<li class="toctree-l4"><a class="reference internal" href="v1.33.4.html">1.33.4 (July 9, 2025)</a></li>
<li class="toctree-l4"><a class="reference internal" href="v1.33.3.html">1.33.3 (May 7, 2025)</a></li>
<li class="toctree-l4"><a class="reference internal" href="v1.33.2.html">1.33.2 (March 26, 2025)</a></li>
<li class="toctree-l4"><a class="reference internal" href="v1.33.1.html">1.33.1 (March 21, 2025)</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">1.33.0 (January 14, 2025)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../v1.32/v1.32.html">v1.32: 1.32.13 (October 13, 2025)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../version_history.html#archived-versions">Archived versions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../version_history.html#deprecation-policy">Deprecation Policy</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">envoy</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../version_history.html">Version history</a></li>
          <li class="breadcrumb-item"><a href="v1.33.html">v1.33</a></li>
      <li class="breadcrumb-item active">1.33.0 (January 14, 2025)</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/version_history/v1.33/v1.33.0.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="january-14-2025">
<span id="version-history-1-33-0"></span><h1>1.33.0 (January 14, 2025)<a class="headerlink" href="#january-14-2025" title="Link to this heading"></a></h1>
<section id="incompatible-behavior-changes">
<h2>Incompatible behavior changes<a class="headerlink" href="#incompatible-behavior-changes" title="Link to this heading"></a></h2>
<p><em>Changes that are expected to cause an incompatibility if applicable; deployment changes are likely required</em></p>
<ul class="simple">
<li><p><strong>ext_proc</strong>: Previously, tracing spans generated by <code class="docutils literal notranslate"><span class="pre">ext_proc</span></code> were always sampled by default. Now, the default sampling
decision of an <code class="docutils literal notranslate"><span class="pre">ext_proc</span></code> span is inherited from the parent span.</p></li>
<li><p><strong>http</strong>: Added streaming shadow functionality. This allows for streaming the shadow request in parallel with the original request
rather than waiting for the original request to complete. This allows shadowing requests larger than the buffer limit,
but also means shadowing may take place for requests which are cancelled mid-stream. This behavior change can be
temporarily reverted by flipping <code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.streaming_shadow</span></code> to <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></li>
<li><p><strong>http</strong>: If the <code class="docutils literal notranslate"><span class="pre">encoder_filter_chain_aborted_</span></code> status bit of the HTTP filter manager is set to true, the encode filter chain
cannot be continued, thus preventing unexpected logic from being triggered in scenarios such as
<code class="docutils literal notranslate"><span class="pre">ActiveStreamDecoderFilter::recreateStream()</span></code> is called. This behavior change can be temporarily reverted by flipping
<code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.filter_chain_aborted_can_not_continue</span></code> to <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></li>
<li><p><strong>http</strong>: RFC1918 addresses are no longer considered to be internal addresses by default. This addresses a security
issue for Envoy’s in multi-tenant mesh environments. Please explicit set
<a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.33.12/api-v3/extensions/filters/network/http_connection_manager/v3/http_connection_manager.proto.html#envoy-v3-api-field-extensions-filters-network-http-connection-manager-v3-httpconnectionmanager-internal-address-config" title="(in envoy vtag-v1.33.12)"><span class="xref std std-ref">internal_address_config</span></a>
to retain the prior behavior.
This change can be temporarily reverted by setting runtime guard
<code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.explicit_internal_address_config</span></code> to <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></li>
<li><p><strong>tracing</strong>: Removed support for (long deprecated) opencensus tracing extension.</p></li>
<li><p><strong>wasm</strong>: Remove previously deprecated xDS attributes from <code class="docutils literal notranslate"><span class="pre">get_property</span></code>, use <code class="docutils literal notranslate"><span class="pre">xds</span></code> attributes instead.</p></li>
<li><p><strong>wasm</strong>: The route cache will not be cleared by default if the Wasm extension modified the request headers and
the ABI version of Wasm extension is larger then 0.2.1.</p></li>
</ul>
</section>
<section id="minor-behavior-changes">
<h2>Minor behavior changes<a class="headerlink" href="#minor-behavior-changes" title="Link to this heading"></a></h2>
<p><em>Changes that may cause incompatibilities for some users, but should not for most</em></p>
<ul class="simple">
<li><p><strong>access_log</strong>: New implementation of the JSON formatter will be enabled by default.
The <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.33.12/api-v3/config/core/v3/substitution_format_string.proto.html#envoy-v3-api-field-config-core-v3-jsonformatoptions-sort-properties" title="(in envoy vtag-v1.33.12)"><span class="xref std std-ref">sort_properties</span></a> field will
be ignored in the new implementation because the new implementation always sorts properties, and the new implementation
will always keep the value type in the JSON output. For example, the <code class="docutils literal notranslate"><span class="pre">duration</span></code> field will always be rendered as a number
instead of a string.
This behavior change could be disabled temporarily by setting the runtime
<code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.logging_with_fast_json_formatter</span></code> to false.</p></li>
<li><p><strong>cluster</strong>: Clusters can no longer use unregistered extension types in
<a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.33.12/api-v3/config/cluster/v3/cluster.proto.html#envoy-v3-api-field-config-cluster-v3-cluster-cluster-type" title="(in envoy vtag-v1.33.12)"><span class="xref std std-ref">cluster_type</span></a>.</p></li>
<li><p><strong>cluster</strong>: Clusters factories are registered by configuration type for
<a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.33.12/api-v3/config/cluster/v3/cluster.proto.html#envoy-v3-api-field-config-cluster-v3-cluster-cluster-type" title="(in envoy vtag-v1.33.12)"><span class="xref std std-ref">cluster_type</span></a>
and will use configuration type to lookup the corresponding factory when available.</p></li>
<li><p><strong>csrf</strong>: Increase only the statistics counter <code class="docutils literal notranslate"><span class="pre">missing_source_origin</span></code> for requests with a missing source origin.
Previously, the <code class="docutils literal notranslate"><span class="pre">request_invalid</span></code> counter was also increased for such requests.</p></li>
<li><p><strong>dns</strong>: Patched c-ares to address CVE-2024-25629.</p></li>
<li><p><strong>formatter</strong>: The <code class="docutils literal notranslate"><span class="pre">NaN</span></code> and <code class="docutils literal notranslate"><span class="pre">Infinity</span></code> values of float will be serialized to <code class="docutils literal notranslate"><span class="pre">null</span></code> and <code class="docutils literal notranslate"><span class="pre">inf</span></code> respectively in the
metadata (<code class="docutils literal notranslate"><span class="pre">DYNAMIC_METADATA</span></code>, <code class="docutils literal notranslate"><span class="pre">CLUSTER_METADATA</span></code>, etc.) formatter.</p></li>
<li><p><strong>http</strong>: If the <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.33.12/api-v3/extensions/request_id/uuid/v3/uuid.proto.html#envoy-v3-api-field-extensions-request-id-uuid-v3-uuidrequestidconfig-pack-trace-reason" title="(in envoy vtag-v1.33.12)"><span class="xref std std-ref">pack_trace_reason</span></a>
is set to false, Envoy will not parse the trace reason from the <code class="docutils literal notranslate"><span class="pre">x-request-id</span></code> header to ensure reads and writes of
trace reason be consistant.
If the <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.33.12/api-v3/extensions/request_id/uuid/v3/uuid.proto.html#envoy-v3-api-field-extensions-request-id-uuid-v3-uuidrequestidconfig-pack-trace-reason" title="(in envoy vtag-v1.33.12)"><span class="xref std std-ref">pack_trace_reason</span></a>
is set to true and external <code class="docutils literal notranslate"><span class="pre">x-request-id</span></code> value is used, the trace reason in the external request id will not
be trusted and will be cleared.</p></li>
<li><p><strong>http</strong>: Local replies now traverse the filter chain if 1xx headers have been sent to the client. This change can be reverted
by setting the runtime guard <code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.local_reply_traverses_filter_chain_after_1xx</span></code> to <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></li>
<li><p><strong>oauth2</strong>: <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.33.12/api-v3/extensions/filters/http/oauth2/v3/oauth.proto.html#envoy-v3-api-field-extensions-filters-http-oauth2-v3-oauth2config-use-refresh-token" title="(in envoy vtag-v1.33.12)"><span class="xref std std-ref">use_refresh_token</span></a>
is now enabled by default. This behavioral change can be temporarily reverted by setting runtime guard
<code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.oauth2_use_refresh_token</span></code> to <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></li>
<li><p><strong>oauth2</strong>: Implement the Signed Double-Submit Cookie pattern, as recommended by OWASP, by using the HMAC secret to sign and verify
the nonce.</p></li>
<li><p><strong>oauth2</strong>: The <code class="docutils literal notranslate"><span class="pre">state</span></code> parameter in the OAuth2 authorization request has been changed to a base64url-encoded JSON object.
The JSON object contains the original request URL and a nonce for CSRF prevention.</p></li>
<li><p><strong>quic</strong>: Enable UDP GRO in QUIC client connections by default. This behavior can be reverted by setting
the runtime guard <code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.prefer_quic_client_udp_gro</span></code> to <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></li>
<li><p><strong>rate_limit</strong>: add <code class="docutils literal notranslate"><span class="pre">WEEK</span></code> to the unit of time for rate limit.</p></li>
<li><p><strong>rds</strong>: When a new RDS provider config is pushed via xDS and the only difference is change to
<a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.33.12/api-v3/config/core/v3/config_source.proto.html#envoy-v3-api-field-config-core-v3-configsource-initial-fetch-timeout" title="(in envoy vtag-v1.33.12)"><span class="xref std std-ref">initial_fetch_timeout</span></a>,
the already existing provider will be reused. Envoy will not ask RDS server for routes
config because existing provider already has up to date routes config.
This behavioral change can be temporarily reverted by setting runtime guard
<code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.normalize_rds_provider_config</span></code> to <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></li>
<li><p><strong>router</strong>: Changed the behavior of shadow request sampling so that if trace sampling is not explicitly configured in the shadow
policy, the shadow request will inherit the parent’s sampling decision. This means sampling will follow the trace
sampling policy of the original request, which prevents oversampling when runtime sampling is disabled. This
behavior can be temporarily reverted by setting the runtime guard
<code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.shadow_policy_inherit_trace_sampling</span></code> to <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></li>
<li><p><strong>scoped_rds</strong>: The <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.33.12/api-v3/config/route/v3/scoped_route.proto.html#envoy-v3-api-field-config-route-v3-scopedrouteconfiguration-route-configuration" title="(in envoy vtag-v1.33.12)"><span class="xref std std-ref">route_configuration</span></a> field
is supported when the <code class="docutils literal notranslate"><span class="pre">ScopedRouteConfiguration</span></code> resource is delivered via SRDS.</p></li>
<li><p><strong>sds</strong>: Relaxed the backing cluster validation for Secret Discovery Service(SDS). Currently, the cluster that supports SDS
needs to be a primary cluster, i.e. a non-EDS cluster defined in bootstrap configuration. This change relaxes that
restriction i.e. SDS cluster can be a dynamic cluster. This change is enabled by default, and can be reverted by setting
the runtime flag <code class="docutils literal notranslate"><span class="pre">envoy.restart_features.skip_backing_cluster_check_for_sds</span></code> to <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></li>
<li><p><strong>xds</strong>: A minor delta-xDS optimization that avoids copying resources when ingesting them was introduced.
No impact to the behavior is expected, but a runtime flag was added as this may impact config-ingestion
related extensions (e.g., custom-config-validators, config-tracker), as the order of the elements passed
to the callback functions may be different. This change can be temporarily reverted
by setting <code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.xds_prevent_resource_copy</span></code> to <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></li>
</ul>
</section>
<section id="bug-fixes">
<h2>Bug fixes<a class="headerlink" href="#bug-fixes" title="Link to this heading"></a></h2>
<p><em>Changes expected to improve the state of the world and are unlikely to have negative effects</em></p>
<ul class="simple">
<li><p><strong>access_log</strong>: Relaxed the restriction on SNI logging to allow the <code class="docutils literal notranslate"><span class="pre">_</span></code> character, even if
<code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.sanitize_sni_in_access_log</span></code> is enabled.</p></li>
<li><p><strong>balsa</strong>: Fix incorrect handling of non-101 1xx responses. This fix can be temporarily reverted by setting runtime guard
<code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.wait_for_first_byte_before_balsa_msg_done</span></code> to <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></li>
<li><p><strong>csrf</strong>: Handle requests that have a “privacy sensitive” / opaque origin (<code class="docutils literal notranslate"><span class="pre">Origin:</span> <span class="pre">null</span></code>) as if the request had no origin information.</p></li>
<li><p><strong>dns</strong>: Fixed bug where setting <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.33.12/api-v3/config/cluster/v3/cluster.proto.html#envoy-v3-api-field-config-cluster-v3-cluster-dns-jitter" title="(in envoy vtag-v1.33.12)"><span class="xref std std-ref">dns_jitter</span></a> to large values caused Envoy Bug
to fire.</p></li>
<li><p><strong>dns_cache</strong>: Fixed a bug where the DNS refresh rate was the DNS TTL instead of the configured <code class="docutils literal notranslate"><span class="pre">dns_refresh_rate</span></code>/<code class="docutils literal notranslate"><span class="pre">dns_failure_refresh_rate</span></code>
when we failed to resolve the DNS query after a successful resolution.</p></li>
<li><p><strong>golang</strong>: Fixes a crash during Golang GC caused by accessing deleted <code class="docutils literal notranslate"><span class="pre">decoder_callbacks</span></code>. The bug was introduced in 1.31.0.</p></li>
<li><p><strong>happy_eyeballs</strong>: Validate that <code class="docutils literal notranslate"><span class="pre">additional_address</span></code> are IP addresses instead of crashing when sorting.</p></li>
<li><p><strong>http/1</strong>: Fixes sending overload crashes when HTTP/1 request is reset.</p></li>
<li><p><strong>http2</strong>: Propagates codec reset events when sending HTTP/2 RST_STREAM frames. Can be temporarily reverted by setting
runtime guard <code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.http2_propagate_reset_events</span></code> to false.</p></li>
<li><p><strong>load_balancing</strong>: Fixed default host weight calculation of <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.33.12/api-v3/extensions/load_balancing_policies/client_side_weighted_round_robin/v3/client_side_weighted_round_robin.proto.html#envoy-v3-api-msg-extensions-load-balancing-policies-client-side-weighted-round-robin-v3-clientsideweightedroundrobin" title="(in envoy vtag-v1.33.12)"><span class="xref std std-ref">client_side_weighted_round_robin</span></a>
to properly handle even number of valid host weights.</p></li>
<li><p><strong>lrs</strong>: Fixes errors stat being incremented and warning log spamming for <code class="docutils literal notranslate"><span class="pre">LoadStatsReporting</span></code> graceful stream close.</p></li>
<li><p><strong>oauth2</strong>: Fixed an issue where ID token and refresh token did not adhere to the <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.33.12/api-v3/extensions/filters/http/oauth2/v3/oauth.proto.html#envoy-v3-api-field-extensions-filters-http-oauth2-v3-oauth2credentials-cookie-domain" title="(in envoy vtag-v1.33.12)"><span class="xref std std-ref">cookie_domain</span></a> field.</p></li>
<li><p><strong>orca</strong>: The previous ORCA parser will use <code class="docutils literal notranslate"><span class="pre">:</span></code> as the delimiter of key/value pair in the native HTTP report. This is wrong
based on the design document. The correct delimiter should be <code class="docutils literal notranslate"><span class="pre">=</span></code>. This change adds the <code class="docutils literal notranslate"><span class="pre">=</span></code> delimiter support to
match the design document and keep the <code class="docutils literal notranslate"><span class="pre">:</span></code> delimiter for backward compatibility.</p></li>
<li><p><strong>original_ip_detection custom header extension</strong>: Reverted <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.33.12/api-v3/extensions/http/original_ip_detection/custom_header/v3/custom_header.proto.html#envoy-v3-api-msg-extensions-http-original-ip-detection-custom-header-v3-customheaderconfig" title="(in envoy vtag-v1.33.12)"><span class="xref std std-ref">custom header</span></a> extension to its
original behavior by disabling automatic XFF header appending that was inadvertently introduced in PR #31831.</p></li>
<li><p><strong>scoped_rds</strong>: Fixes scope key leak and spurious scope key conflicts when an update to an SRDS resource changes the key.</p></li>
<li><p><strong>stats ads grpc</strong>: Fixed metric for ADS disconnection counters using Google gRPC client. This extracts the gRPC client prefix specified
in the <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.33.12/api-v3/config/core/v3/grpc_service.proto.html#envoy-v3-api-field-config-core-v3-grpcservice-google-grpc" title="(in envoy vtag-v1.33.12)"><span class="xref std std-ref">google_grpc</span></a> resource used for ADS, and adds
that as a tag <code class="docutils literal notranslate"><span class="pre">envoy_google_grpc_client_prefix</span></code> to the Prometheus stats.</p></li>
<li><p><strong>tls</strong>: Support operations on IP SANs when the IP version is not supported by the host operating system, for example
an IPv6 SAN can now be used on a host not supporting IPv6 addresses.</p></li>
<li><p><strong>tracers</strong>: Avoid possible overflow when setting span attributes in Dynatrace sampler.</p></li>
<li><p><strong>udp/dynamic_forward_proxy</strong>: Fixed bug where <code class="docutils literal notranslate"><span class="pre">dynamic_forward_proxy</span></code> udp session filter disabled buffer in filter config
instead of disabling buffer for the filter instance.</p></li>
<li><p><strong>udp_proxy</strong>: Fix a bug that cause Envoy to crash due to segmentation fault when <code class="docutils literal notranslate"><span class="pre">onBelowWriteBufferLowWatermark</span></code> callback is called.</p></li>
<li><p><strong>validation/tools</strong>: Add back missing extension for <code class="docutils literal notranslate"><span class="pre">schema_validator_tool</span></code>.</p></li>
</ul>
</section>
<section id="removed-config-or-runtime">
<h2>Removed config or runtime<a class="headerlink" href="#removed-config-or-runtime" title="Link to this heading"></a></h2>
<p><em>Normally occurs at the end of the</em> <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.33.12/version_history/version_history.html#deprecated" title="(in envoy vtag-v1.33.12)"><span class="xref std std-ref">deprecation period</span></a></p>
<ul class="simple">
<li><p><strong>aws</strong>: Removed runtime flag <code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.use_http_client_to_fetch_aws_credentials</span></code>.</p></li>
<li><p><strong>dns</strong>: Removed runtime flag <code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.dns_reresolve_on_eai_again</span></code> and legacy code paths.</p></li>
<li><p><strong>grpc</strong>: Removed runtime guard <code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.validate_grpc_header_before_log_grpc_status</span></code>.</p></li>
<li><p><strong>http</strong>: Removed runtime flag <code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.http_route_connect_proxy_by_default</span></code> and legacy code paths.</p></li>
<li><p><strong>http</strong>: Removed runtime flag <code class="docutils literal notranslate"><span class="pre">envoy.restart_features.sanitize_te</span></code> and legacy code paths.</p></li>
<li><p><strong>http2</strong>: Removed runtime flag <code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.defer_processing_backedup_streams</span></code> and legacy code paths.</p></li>
<li><p><strong>load balancing</strong>: Removed runtime guard <code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.edf_lb_host_scheduler_init_fix</span></code> and legacy code paths.</p></li>
<li><p><strong>load balancing</strong>: Removed runtime guard <code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.edf_lb_locality_scheduler_init_fix</span></code> and legacy code paths.</p></li>
<li><p><strong>quic</strong>: Removed runtime flag <code class="docutils literal notranslate"><span class="pre">envoy.restart_features.quic_handle_certs_with_shared_tls_code</span></code> and legacy code paths.</p></li>
<li><p><strong>router</strong>: Removed runtime guard <code class="docutils literal notranslate"><span class="pre">envoy_reloadable_features_send_local_reply_when_no_buffer_and_upstream_request</span></code>.</p></li>
<li><p><strong>upstream</strong>: Removed runtime flag <code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.exclude_host_in_eds_status_draining</span></code>.</p></li>
<li><p><strong>upstream</strong>: Removed runtime flag <code class="docutils literal notranslate"><span class="pre">envoy.restart_features.allow_client_socket_creation_failure</span></code> and legacy code paths.</p></li>
</ul>
</section>
<section id="new-features">
<h2>New features<a class="headerlink" href="#new-features" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p><strong>CEL-attributes</strong>: Added <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.33.12/intro/arch_overview/advanced/attributes.html#arch-overview-attributes" title="(in envoy vtag-v1.33.12)"><span class="xref std std-ref">attribute</span></a> <code class="docutils literal notranslate"><span class="pre">upstream.cx_pool_ready_duration</span></code>
to get the duration from when the upstream request was created to when the upstream connection pool is ready.</p></li>
<li><p><strong>CEL-attributes</strong>: Added <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.33.12/intro/arch_overview/advanced/attributes.html#arch-overview-attributes" title="(in envoy vtag-v1.33.12)"><span class="xref std std-ref">attribute</span></a> <code class="docutils literal notranslate"><span class="pre">upstream.request_attempt_count</span></code>
to get the number of times a request is attempted upstream.</p></li>
<li><p><strong>access log</strong>: Added fields for <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.33.12/configuration/observability/access_log/usage.html#config-access-log-format" title="(in envoy vtag-v1.33.12)"><span class="xref std std-ref">DOWNSTREAM_DIRECT_LOCAL_ADDRESS</span></a> and
<a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.33.12/configuration/observability/access_log/usage.html#config-access-log-format" title="(in envoy vtag-v1.33.12)"><span class="xref std std-ref">DOWNSTREAM_DIRECT_LOCAL_ADDRESS_WITHOUT_PORT</span></a>.</p></li>
<li><p><strong>access log</strong>: Added new command-line flag <a class="reference internal" href="../../operations/cli.html#cmdoption-skip-deprecated-logs"><code class="xref std std-option docutils literal notranslate"><span class="pre">--skip-deprecated-logs</span></code></a>.</p></li>
<li><p><strong>access_log</strong>: Added <code class="docutils literal notranslate"><span class="pre">%DOWNSTREAM_LOCAL_EMAIL_SAN%</span></code>, <code class="docutils literal notranslate"><span class="pre">%DOWNSTREAM_PEER_EMAIL_SAN%</span></code>, <code class="docutils literal notranslate"><span class="pre">%DOWNSTREAM_LOCAL_OTHERNAME_SAN%</span></code> and
<code class="docutils literal notranslate"><span class="pre">%DOWNSTREAM_PEER_OTHERNAME_SAN%</span></code> substitution formatters.</p></li>
<li><p><strong>access_log</strong>: Added support for <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.33.12/configuration/observability/access_log/usage.html#config-access-log-format-upstream-host-name-without-port" title="(in envoy vtag-v1.33.12)"><span class="xref std std-ref">%UPSTREAM_HOST_NAME_WITHOUT_PORT%</span></a>
for the upstream host identifier without the port value.</p></li>
<li><p><strong>access_log</strong>: Added support for logging upstream connection establishment duration in the
<a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.33.12/configuration/observability/access_log/usage.html#config-access-log-format-common-duration" title="(in envoy vtag-v1.33.12)"><span class="xref std std-ref">%COMMON_DURATION%</span></a> access log
formatter operator. The following time points were added: <code class="docutils literal notranslate"><span class="pre">%US_CX_BEG%</span></code>,
<code class="docutils literal notranslate"><span class="pre">%US_CX_END%</span></code>, <code class="docutils literal notranslate"><span class="pre">%US_HS_END%</span></code>.</p></li>
<li><p><strong>attributes</strong>: Added new <code class="docutils literal notranslate"><span class="pre">xds.virtual_host_name</span></code> and <code class="docutils literal notranslate"><span class="pre">xds.virtual_host_metadata</span></code> attributes support. See
<a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.33.12/intro/arch_overview/advanced/attributes.html#arch-overview-attributes" title="(in envoy vtag-v1.33.12)"><span class="xref std std-ref">attributes</span></a> for looking up xDS configuration information.</p></li>
<li><p><strong>aws_request_signing</strong>: Added an optional field <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.33.12/api-v3/extensions/filters/http/aws_request_signing/v3/aws_request_signing.proto.html#envoy-v3-api-field-extensions-filters-http-aws-request-signing-v3-awsrequestsigning-credential-provider" title="(in envoy vtag-v1.33.12)"><span class="xref std std-ref">credential_provider</span></a>
to the AWS request signing filter to explicitly specify a source for AWS credentials. Credential file and <code class="docutils literal notranslate"><span class="pre">AssumeRoleWithWebIdentity</span></code>
behaviour can also be overridden with this field.</p></li>
<li><p><strong>c-ares</strong>: Added nameserver rotation option to c-ares resolver. When enabled via <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.33.12/api-v3/extensions/network/dns_resolver/cares/v3/cares_dns_resolver.proto.html#envoy-v3-api-field-extensions-network-dns-resolver-cares-v3-caresdnsresolverconfig-rotate-nameservers" title="(in envoy vtag-v1.33.12)"><span class="xref std std-ref">rotate_nameservers</span></a>, this
performs round-robin selection of the configured nameservers for each resolution to help distribute query load.</p></li>
<li><p><strong>c-ares</strong>: Added two new options to c-ares resolver for configuring custom timeouts and tries while resolving DNS
queries. Custom timeouts could be configured by specifying <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.33.12/api-v3/extensions/network/dns_resolver/cares/v3/cares_dns_resolver.proto.html#envoy-v3-api-field-extensions-network-dns-resolver-cares-v3-caresdnsresolverconfig-query-timeout-seconds" title="(in envoy vtag-v1.33.12)"><span class="xref std std-ref">query_timeout_seconds</span></a> and
custom tries could be configured by specifying <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.33.12/api-v3/extensions/network/dns_resolver/cares/v3/cares_dns_resolver.proto.html#envoy-v3-api-field-extensions-network-dns-resolver-cares-v3-caresdnsresolverconfig-query-tries" title="(in envoy vtag-v1.33.12)"><span class="xref std std-ref">query_tries</span></a>.</p></li>
<li><p><strong>ext_authz</strong>: Added filter state field <code class="docutils literal notranslate"><span class="pre">latency_us</span></code>, <code class="docutils literal notranslate"><span class="pre">bytesSent</span></code> and <code class="docutils literal notranslate"><span class="pre">bytesReceived</span></code> access for CEL and logging.</p></li>
<li><p><strong>ext_proc</strong>: Added HTTP support in ext_proc filter to perform external processing with HTTP messages.</p></li>
<li><p><strong>filters</strong>: Added <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.33.12/api-v3/extensions/filters/http/api_key_auth/v3/api_key_auth.proto.html#envoy-v3-api-msg-extensions-filters-http-api-key-auth-v3-apikeyauth" title="(in envoy vtag-v1.33.12)"><span class="xref std std-ref">the Api Key Auth filter</span></a>, which
can be used to authenticate requests using an API key.</p></li>
<li><p><strong>filters</strong>: Updated the <code class="docutils literal notranslate"><span class="pre">set_filter_state</span></code> <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.33.12/configuration/http/http_filters/set_filter_state.html#config-http-filters-set-filter-state" title="(in envoy vtag-v1.33.12)"><span class="xref std std-ref">filter</span></a> to support per-route overrides.</p></li>
<li><p><strong>grpc-json</strong>: Added a new http filter for <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.33.12/configuration/http/http_filters/grpc_json_reverse_transcoder_filter.html#config-http-filters-grpc-json-reverse-transcoder" title="(in envoy vtag-v1.33.12)"><span class="xref std std-ref">gRPC to JSON transcoding</span></a>.</p></li>
<li><p><strong>health_check</strong>: Added new health check filter stats including total requests, successful/failed checks, cached responses, and
cluster health status counters. These stats help track health check behavior and cluster health state.</p></li>
<li><p><strong>http</strong>: Add <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.33.12/api-v3/extensions/filters/http/header_mutation/v3/header_mutation.proto.html#envoy-v3-api-field-extensions-filters-http-header-mutation-v3-mutations-query-parameter-mutations" title="(in envoy vtag-v1.33.12)"><span class="xref std std-ref">query parameter mutations</span></a>
to <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.33.12/api-v3/extensions/filters/http/header_mutation/v3/header_mutation.proto.html#envoy-v3-api-msg-extensions-filters-http-header-mutation-v3-headermutation" title="(in envoy vtag-v1.33.12)"><span class="xref std std-ref">Header Mutation Filter</span></a>
for adding/removing query parameters on a request.</p></li>
<li><p><strong>http_inspector</strong>: Added default-false <code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.http_inspector_use_balsa_parser</span></code> for <code class="docutils literal notranslate"><span class="pre">HttpInspector</span></code> to use <code class="docutils literal notranslate"><span class="pre">BalsaParser</span></code>.</p></li>
<li><p><strong>ip-tagging</strong>: Adds support for specifying an alternate header
<a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.33.12/api-v3/extensions/filters/http/ip_tagging/v3/ip_tagging.proto.html#envoy-v3-api-field-extensions-filters-http-ip-tagging-v3-iptagging-ip-tag-header" title="(in envoy vtag-v1.33.12)"><span class="xref std std-ref">ip_tag_header</span></a>
for appending IP tags via ip-tagging filter instead of using the default header <code class="docutils literal notranslate"><span class="pre">x-envoy-ip-tags</span></code>.</p></li>
<li><p><strong>local_ratelimit</strong>: Added per descriptor custom hits addend support for local rate limit filter. See <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.33.12/api-v3/config/route/v3/route_components.proto.html#envoy-v3-api-field-config-route-v3-ratelimit-hits-addend" title="(in envoy vtag-v1.33.12)"><span class="xref std std-ref">hits_addend</span></a> for more details.</p></li>
<li><p><strong>lua</strong>: Add logging functions to all lua objects. Previously these were only available on the Lua http filter request handle.</p></li>
<li><p><strong>lua</strong>: Added <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.33.12/configuration/http/http_filters/lua_filter.html#config-http-filters-lua-stream-info-downstream-direct-local-address" title="(in envoy vtag-v1.33.12)"><span class="xref std std-ref">downstreamDirectLocalAddress()</span></a>
method to the Stream info object API.</p></li>
<li><p><strong>lua</strong>: Added <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.33.12/configuration/http/http_filters/lua_filter.html#config-http-filters-lua-stream-info-route-name" title="(in envoy vtag-v1.33.12)"><span class="xref std std-ref">routeName()</span></a> API to the Stream Info Object to get the
name of the route matched by the filter chain.</p></li>
<li><p><strong>lua</strong>: Added SSL <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.33.12/configuration/http/http_filters/lua_filter.html#config-http-filters-lua-parsed-name" title="(in envoy vtag-v1.33.12)"><span class="xref std std-ref">parsedSubjectPeerCertificate()</span></a> API.</p></li>
<li><p><strong>lua</strong>: Added a new <code class="docutils literal notranslate"><span class="pre">setUpstreamOverrideHost()</span></code> which could be used to set the given host as the upstream host for the
current request.</p></li>
<li><p><strong>lua cluster specifier</strong>: Added ability for a Lua script to query clusters for current requests and connections.</p></li>
<li><p><strong>matchers</strong>: Added new filter state matcher ip_range to
<a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.33.12/api-v3/type/matcher/v3/filter_state.proto.html#envoy-v3-api-msg-type-matcher-v3-filterstatematcher" title="(in envoy vtag-v1.33.12)"><span class="xref std std-ref">FilterStateMatcher</span></a> which attempts to
cast the filter state object to an IP and match it against a list of CidrRanges. To support
this, also added an <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.33.12/api-v3/type/matcher/v3/address.proto.html#envoy-v3-api-msg-type-matcher-v3-addressmatcher" title="(in envoy vtag-v1.33.12)"><span class="xref std std-ref">AddressMatcher</span></a>.</p></li>
<li><p><strong>overload</strong>: Added support for scaling <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.33.12/api-v3/config/overload/v3/overload.proto.html#envoy-v3-api-enum-value-config-overload-v3-scaletimersoverloadactionconfig-timertype-http-downstream-connection-max" title="(in envoy vtag-v1.33.12)"><span class="xref std std-ref">max connection duration</span></a>.
This can be used to reduce the max connection duration in response to overload.</p></li>
<li><p><strong>quic</strong>: Added <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.33.12/api-v3/extensions/quic/connection_debug_visitor/quic_stats/v3/quic_stats.proto.html#envoy-v3-api-msg-extensions-quic-connection-debug-visitor-quic-stats-v3-config" title="(in envoy vtag-v1.33.12)"><span class="xref std std-ref">QUIC stats debug visitor</span></a> to
get more stats from the QUIC transport.</p></li>
<li><p><strong>ratelimit</strong>: Add the <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.33.12/api-v3/extensions/filters/http/ratelimit/v3/rate_limit.proto.html#envoy-v3-api-field-extensions-filters-http-ratelimit-v3-ratelimitperroute-rate-limits" title="(in envoy vtag-v1.33.12)"><span class="xref std std-ref">rate_limits</span></a>
field to generate rate limit descriptors. If this field is set, the
<a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.33.12/api-v3/config/route/v3/route_components.proto.html#envoy-v3-api-field-config-route-v3-virtualhost-rate-limits" title="(in envoy vtag-v1.33.12)"><span class="xref std std-ref">VirtualHost.rate_limits</span></a> or
<a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.33.12/api-v3/config/route/v3/route_components.proto.html#envoy-v3-api-field-config-route-v3-routeaction-rate-limits" title="(in envoy vtag-v1.33.12)"><span class="xref std std-ref">RouteAction.rate_limits</span></a> fields
will be ignored.</p></li>
<li><p><strong>ratelimit</strong>: Add the option to reduce the rate limit budget based on request/response contexts on stream done.
See <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.33.12/api-v3/config/route/v3/route_components.proto.html#envoy-v3-api-field-config-route-v3-ratelimit-apply-on-stream-done" title="(in envoy vtag-v1.33.12)"><span class="xref std std-ref">apply_on_stream_done</span></a> for more details.</p></li>
<li><p><strong>ratelimit</strong>: added support for query parameter rate limiting via the <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.33.12/api-v3/config/route/v3/route_components.proto.html#envoy-v3-api-field-config-route-v3-ratelimit-action-query-parameters" title="(in envoy vtag-v1.33.12)"><span class="xref std std-ref">query_parameters</span></a> action across HTTP and Thrift. This allows
rate limiting based on specific query parameter values, with option to control the behavior when the query parameter
is absent.</p></li>
<li><p><strong>rbac</strong>: Added <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.33.12/api-v3/config/rbac/v3/rbac.proto.html#envoy-v3-api-field-config-rbac-v3-permission-sourced-metadata" title="(in envoy vtag-v1.33.12)"><span class="xref std std-ref">sourced_metadata</span></a> which allows
specifying an optional source for the metadata to be matched in addition to the metadata matcher.</p></li>
<li><p><strong>redis</strong>: Added support for <code class="docutils literal notranslate"><span class="pre">UNWATCH</span></code> command.</p></li>
<li><p><strong>redis</strong>: Added support for keys and select.</p></li>
<li><p><strong>sni_dynamic_forward_proxy</strong>: Added support in SNI dynamic forward proxy for saving the resolved upstream address in the filter state.
The state is saved with the key <code class="docutils literal notranslate"><span class="pre">envoy.stream.upstream_address</span></code>.</p></li>
<li><p><strong>tls</strong>: Added an <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.33.12/api-v3/extensions/transport_sockets/tls/v3/tls.proto.html#envoy-v3-api-field-extensions-transport-sockets-tls-v3-upstreamtlscontext-auto-host-sni" title="(in envoy vtag-v1.33.12)"><span class="xref std std-ref">option</span></a> to change the upstream
SNI to the configured hostname for the upstream.</p></li>
<li><p><strong>tls</strong>: Added an <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.33.12/api-v3/extensions/transport_sockets/tls/v3/tls.proto.html#envoy-v3-api-field-extensions-transport-sockets-tls-v3-upstreamtlscontext-auto-sni-san-validation" title="(in envoy vtag-v1.33.12)"><span class="xref std std-ref">option</span></a> to validate
the upstream server certificate SANs against the actual SNI value sent, regardless of the method of configuring SNI.</p></li>
<li><p><strong>tls</strong>: Added support for <strong>P-384</strong> and <strong>P-521</strong> curves for TLS server certificates.</p></li>
<li><p><strong>tracers</strong>: Set resource <code class="docutils literal notranslate"><span class="pre">telemetry.sdk.*</span></code> and scope <code class="docutils literal notranslate"><span class="pre">otel.scope.name|version</span></code> attributes for the OpenTelemetry tracer.</p></li>
<li><p><strong>udp_proxy</strong>: Added support for <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.33.12/api-v3/extensions/filters/udp/udp_proxy/v3/udp_proxy.proto.html#envoy-v3-api-field-extensions-filters-udp-udp-proxy-v3-udpproxyconfig-udptunnelingconfig-retryoptions-backoff-options" title="(in envoy vtag-v1.33.12)"><span class="xref std std-ref">backoff_options</span></a>
to configure the backoff strategy for UDP proxy retries when tunneling over HTTP.</p></li>
<li><p><strong>udp_proxy</strong>: Added support for coexistence of dynamic and static clusters in the same udp proxy, so we can use dynamic clusters
for some sessions by setting a per-session state object under the key <code class="docutils literal notranslate"><span class="pre">envoy.upstream.dynamic_host</span></code> and routing
to dynamic cluster, and we can use static clusters for other sessions by setting a per-session state object under
the key <code class="docutils literal notranslate"><span class="pre">envoy.udp_proxy.cluster</span></code> without setting <code class="docutils literal notranslate"><span class="pre">envoy.upstream.dynamic_host</span></code>.</p></li>
<li><p><strong>udp_proxy</strong>: Added support for dynamic cluster selection in UDP proxy. The cluster can be set by one of the session filters
by setting a per-session state object under the key <code class="docutils literal notranslate"><span class="pre">envoy.udp_proxy.cluster</span></code>.</p></li>
<li><p><strong>wasm</strong>: Added <code class="docutils literal notranslate"><span class="pre">clear_route_cache</span></code> foreign function to clear the route cache.</p></li>
<li><p><strong>wasm</strong>: Added support for Wasm plugins written in Go with the <code class="docutils literal notranslate"><span class="pre">github.com/proxy-wasm/proxy-wasm-go-sdk</span></code> and compiled with Go v1.24+.</p></li>
<li><p><strong>wasm</strong>: Added the Wasm VM reload support to reload Wasm VM when the Wasm VM is failed with runtime errors. See
<a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.33.12/api-v3/extensions/wasm/v3/wasm.proto.html#envoy-v3-api-field-extensions-wasm-v3-pluginconfig-failure-policy" title="(in envoy vtag-v1.33.12)"><span class="xref std std-ref">failure_policy</span></a> for more details.
The <code class="docutils literal notranslate"><span class="pre">FAIL_RELOAD</span></code> reload policy will be used by default.</p></li>
<li><p><strong>xds</strong>: Added support for ADS replacement by invoking <code class="docutils literal notranslate"><span class="pre">xdsManager().setAdsConfigSource()</span></code> with a new config source.</p></li>
</ul>
</section>
<section id="deprecated">
<h2>Deprecated<a class="headerlink" href="#deprecated" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p><strong>aws_iam</strong>: The <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.33.12/api-v3/config/grpc_credential/v3/aws_iam.proto.html#envoy-v3-api-msg-config-grpc-credential-v3-awsiamconfig" title="(in envoy vtag-v1.33.12)"><span class="xref std std-ref">aws_iam extension</span></a> is deprecated and will be
deleted from Envoy in a future release, no later than Envoy 1.35, but possibly sooner.</p></li>
<li><p><strong>cluster</strong>: DNS-related fields in <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.33.12/api-v3/config/cluster/v3/cluster.proto.html#envoy-v3-api-msg-config-cluster-v3-cluster" title="(in envoy vtag-v1.33.12)"><span class="xref std std-ref">Cluster</span></a> are deprecated when using
strict and logical DNS clusters. Instead, use the
<a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.33.12/api-v3/config/cluster/v3/cluster.proto.html#envoy-v3-api-field-config-cluster-v3-cluster-cluster-type" title="(in envoy vtag-v1.33.12)"><span class="xref std std-ref">cluster_type</span></a> extension point with
<a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.33.12/api-v3/config/cluster/v3/cluster.proto.html#envoy-v3-api-field-config-cluster-v3-cluster-customclustertype-typed-config" title="(in envoy vtag-v1.33.12)"><span class="xref std std-ref">typed_config</span></a> of type
<a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.33.12/api-v3/extensions/clusters/dns/v3/dns_cluster.proto.html#envoy-v3-api-msg-extensions-clusters-dns-v3-dnscluster" title="(in envoy vtag-v1.33.12)"><span class="xref std std-ref">DnsCluster</span></a>.</p></li>
<li><p><strong>rbac</strong>: <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.33.12/api-v3/config/rbac/v3/rbac.proto.html#envoy-v3-api-field-config-rbac-v3-permission-metadata" title="(in envoy vtag-v1.33.12)"><span class="xref std std-ref">metadata</span></a> is now deprecated in
favor of <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.33.12/api-v3/config/rbac/v3/rbac.proto.html#envoy-v3-api-field-config-rbac-v3-permission-sourced-metadata" title="(in envoy vtag-v1.33.12)"><span class="xref std std-ref">sourced_metadata</span></a>.</p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="v1.33.1.html" class="btn btn-neutral float-left" title="1.33.1 (March 21, 2025)" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../v1.32/v1.32.html" class="btn btn-neutral float-right" title="v1.32" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2016-2025, Envoy Project Authors.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>