

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>1.4.0 (August 24, 2017) &mdash; envoy tag-v1.33.11 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=d7d10ef0" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/envoy.css?v=3ec0219e" />
      <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../../_static/tabs.css?v=4da122e5" />

  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=5829c46c"></script>
      <script src="../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../../_static/copybutton.js?v=db7b0edf"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="v1.3" href="../v1.3/v1.3.html" />
    <link rel="prev" title="v1.4" href="v1.4.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html">
            
              <img src="../../_static/envoy-logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../about_docs.html">About the documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../intro/intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../start/start.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../configuration/configuration.html">Configuration reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../operations/operations.html">Operations and administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../extending/extending.html">Extending Envoy for custom use cases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/api.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../faq/overview.html">FAQ</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../version_history.html">Version history</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../version_history.html#stable-versions">Stable versions</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../version_history.html#archived-versions">Archived versions</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../v1.29/v1.29.html">v1.29: 1.29.12 (December 18, 2024)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../v1.28/v1.28.html">v1.28: 1.28.7 (September 19, 2024)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../v1.27/v1.27.html">v1.27: 1.27.7 (June 28, 2024)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../v1.26/v1.26.html">v1.26: 1.26.8 (April 4, 2024)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../v1.25/v1.25.html">v1.25: 1.25.11 (October 16, 2023)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../v1.24/v1.24.html">v1.24: 1.24.11 (October 10, 2023)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../v1.23/v1.23.html">v1.23: 1.23.12 (July 25, 2023)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../v1.22/v1.22.html">v1.22: 1.22.11 (April 11, 2023)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../v1.21/v1.21.html">v1.21: 1.21.6 (November 28, 2022)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../v1.20/v1.20.html">v1.20: 1.20.7 (July 21, 2022)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../v1.19/v1.19.html">v1.19: 1.19.5 (June 9, 2022)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../v1.18/v1.18.html">v1.18: 1.18.6 (February 22, 2022)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../v1.17/v1.17.html">v1.17: 1.17.4 (August 24, 2021)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../v1.16/v1.16.html">v1.16: 1.16.5 (August 24, 2021)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../v1.15/v1.15.html">v1.15: 1.15.5 (May 11, 2021)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../v1.14/v1.14.html">v1.14: 1.14.7 (April 15, 2020)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../v1.13/v1.13.html">v1.13: 1.13.8 (January 15, 2021)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../v1.12/v1.12.html">v1.12: 1.12.7 (September 29, 2020)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../v1.11/v1.11.html">v1.11: 1.11.2 (October 8, 2019)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../v1.10/v1.10.html">v1.10: 1.10.0 (April 5, 2019)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../v1.9/v1.9.html">v1.9: 1.9.1 (April 2, 2019)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../v1.8/v1.8.html">v1.8: 1.8.0 (October 4, 2018)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../v1.7/v1.7.html">v1.7: 1.7.1 (August 3, 2018)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../v1.6/v1.6.html">v1.6: 1.6.0 (March 20, 2018)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../v1.5/v1.5.html">v1.5: 1.5.0 (December 4, 2017)</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="v1.4.html">v1.4: 1.4.0 (August 24, 2017)</a><ul class="current">
<li class="toctree-l4 current"><a class="current reference internal" href="#">1.4.0 (August 24, 2017)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../v1.3/v1.3.html">v1.3: 1.3.0 (May 17, 2017)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../v1.2/v1.2.html">v1.2: 1.2.0 (March 7, 2017)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../v1.1/v1.1.html">v1.1: 1.1.0 (November 30, 2016)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../v1.0/v1.0.html">v1.0: 1.0.0 (September 12, 2016)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../version_history.html#deprecation-policy">Deprecation Policy</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">envoy</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../version_history.html">Version history</a></li>
          <li class="breadcrumb-item"><a href="v1.4.html">v1.4</a></li>
      <li class="breadcrumb-item active">1.4.0 (August 24, 2017)</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/version_history/v1.4/v1.4.0.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="august-24-2017">
<span id="version-history-1-4-0"></span><h1>1.4.0 (August 24, 2017)<a class="headerlink" href="#august-24-2017" title="Link to this heading"></a></h1>
<section id="changes">
<h2>Changes<a class="headerlink" href="#changes" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p><strong>admin</strong>: Added /routes admin endpoint.</p></li>
<li><p><strong>clusters</strong>: Route <code class="docutils literal notranslate"><span class="pre">validate_clusters</span></code> option added.</p></li>
<li><p><strong>clusters</strong>: Virtual cluster priorities have been hard removed without deprecation as we are reasonably sure no one is using this
feature.</p></li>
<li><p><strong>config</strong>: YAML is now directly supported for config files.</p></li>
<li><p><strong>configs</strong>: <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.5.0/install/tools/config_load_check_tool.html#install-tools-config-load-check-tool" title="(in envoy v1.5.0-tag-v1.5.0)"><span class="xref std std-ref">Configuration check tool</span></a> added.</p></li>
<li><p><strong>deprecation</strong>: Several features are <a class="reference external" href="https://github.com/envoyproxy/envoy/blob/v1.4.0/DEPRECATED.md">deprecated as of the 1.4.0 release</a>. They will be removed at the beginning of the 1.5.0
release cycle. We explicitly call out that the <code class="docutils literal notranslate"><span class="pre">HttpFilterConfigFactory</span></code> filter API has been deprecated in favor of
<code class="docutils literal notranslate"><span class="pre">NamedHttpFilterConfigFactory</span></code>.</p></li>
<li><p><strong>dns</strong>: Per-cluster DNS resolvers added.</p></li>
<li><p><strong>dns</strong>: UDP <code class="docutils literal notranslate"><span class="pre">statsd_ip_address</span></code> option added.</p></li>
<li><p><strong>envoy</strong>: Many small bug fixes and performance improvements not listed.</p></li>
<li><p><strong>fault_injection</strong>: <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.5.0/configuration/http_filters/fault_filter.html#config-http-filters-fault-injection" title="(in envoy v1.5.0-tag-v1.5.0)"><span class="xref std std-ref">Fault filter</span></a> enhancements and fixes.</p></li>
<li><p><strong>flow_control</strong>: End-to-end flow control is now supported for TCP proxy, HTTP/1, and HTTP/2. HTTP flow control that includes filter
buffering is incomplete and will be implemented in 1.5.0.</p></li>
<li><p><strong>grpc</strong>: gRPC web <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.5.0/configuration/http_filters/grpc_web_filter.html#config-http-filters-grpc-web" title="(in envoy v1.5.0-tag-v1.5.0)"><span class="xref std std-ref">filter</span></a> added.</p></li>
<li><p><strong>grpc</strong>: gRPC/JSON transcoder <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.5.0/configuration/http_filters/grpc_json_transcoder_filter.html#config-http-filters-grpc-json-transcoder" title="(in envoy v1.5.0-tag-v1.5.0)"><span class="xref std std-ref">filter</span></a> added.</p></li>
<li><p><strong>headers</strong>: <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.5.0/configuration/http_conn_man/headers.html#config-http-conn-man-headers-downstream-service-node" title="(in envoy v1.5.0-tag-v1.5.0)"><span class="xref std std-ref">x-envoy-downstream-service-node</span></a> header added.</p></li>
<li><p><strong>headers</strong>: <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.5.0/configuration/http_filters/router_filter.html#config-http-filters-router-x-envoy-retry-grpc-on" title="(in envoy v1.5.0-tag-v1.5.0)"><span class="xref std std-ref">x-envoy-retry-grpc-on</span></a> header added.</p></li>
<li><p><strong>headers</strong>: <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.5.0/configuration/http_conn_man/headers.html#config-http-conn-man-headers-x-forwarded-client-cert" title="(in envoy v1.5.0-tag-v1.5.0)"><span class="xref std std-ref">x-forwarded-client-cert</span></a> header added.</p></li>
<li><p><strong>hot_restart</strong>: Hot restart <a class="extlink-repo reference external" href="https://github.com/envoyproxy/envoy/blob/v1.33.11/v1.5:/bazel#hot-restart">compile time flag</a> added.</p></li>
<li><p><strong>http1</strong>: Initial HTTP/1 forward proxy support for absolute URLs has been added.</p></li>
<li><p><strong>http2</strong>: HTTP/2 codec settings are now configurable.</p></li>
<li><p><strong>lds</strong>: <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.5.0/intro/arch_overview/dynamic_configuration.html#arch-overview-dynamic-config-lds" title="(in envoy v1.5.0-tag-v1.5.0)"><span class="xref std std-ref">LDS API</span></a> added.</p></li>
<li><p><strong>load_balancing</strong>: Original destination <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.5.0/intro/arch_overview/service_discovery.html#arch-overview-service-discovery-types-original-destination" title="(in envoy v1.5.0-tag-v1.5.0)"><span class="xref std std-ref">cluster</span></a> and <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.5.0/intro/arch_overview/load_balancing.html#arch-overview-load-balancing-types-original-destination" title="(in envoy v1.5.0-tag-v1.5.0)"><span class="xref std std-ref">load
balancer</span></a> added.</p></li>
<li><p><strong>logging</strong>: Log verbosity <a class="extlink-repo reference external" href="https://github.com/envoyproxy/envoy/blob/v1.33.11/v1.5:/bazel#log-verbosity">compile time flag</a> added.</p></li>
<li><p><strong>mac</strong>: macOS is <a class="extlink-repo reference external" href="https://github.com/envoyproxy/envoy/blob/v1.33.11/v1.5:/bazel#quick-start-bazel-build-for-developers">now supported</a>. (A few features are missing such as
hot restart and original destination routing).</p></li>
<li><p><strong>networking</strong>: IPv6 support is now complete.</p></li>
<li><p><strong>options</strong>: <a class="reference internal" href="../../operations/cli.html#cmdoption-local-address-ip-version"><code class="xref std std-option docutils literal notranslate"><span class="pre">--local-address-ip-version</span></code></a> option added.</p></li>
<li><p><strong>options</strong>: Config validation mode added via the <a class="reference internal" href="../../operations/cli.html#cmdoption-mode"><code class="xref std std-option docutils literal notranslate"><span class="pre">--mode</span></code></a> option.</p></li>
<li><p><strong>rate_limting</strong>: Configurable timeout for the rate limit service call in the <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.5.0/configuration/network_filters/rate_limit_filter.html#config-network-filters-rate-limit" title="(in envoy v1.5.0-tag-v1.5.0)"><span class="xref std std-ref">network</span></a> and
<a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.5.0/configuration/http_filters/rate_limit_filter.html#config-http-filters-rate-limit" title="(in envoy v1.5.0-tag-v1.5.0)"><span class="xref std std-ref">HTTP</span></a> rate limit filters.</p></li>
<li><p><strong>schema</strong>: <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.5.0/install/tools/schema_validator_check_tool.html#install-tools-schema-validator-check-tool" title="(in envoy v1.5.0-tag-v1.5.0)"><span class="xref std std-ref">JSON schema check tool</span></a> added.</p></li>
<li><p><strong>tls</strong>: TLS :<code class="docutils literal notranslate"><span class="pre">require_client_certificate</span></code> option added.</p></li>
<li><p><strong>websockets</strong>: <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.5.0/intro/arch_overview/websocket.html#arch-overview-websocket" title="(in envoy v1.5.0-tag-v1.5.0)"><span class="xref std std-ref">WebSocket</span></a> is now supported.</p></li>
</ul>
</section>
<section id="deprecated">
<h2>Deprecated<a class="headerlink" href="#deprecated" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p><strong>config</strong>: Config option <code class="docutils literal notranslate"><span class="pre">http_codec_options</span></code> has been deprecated and has been replaced with <code class="docutils literal notranslate"><span class="pre">http2_settings</span></code>.</p></li>
<li><p><strong>filters</strong>: The direction of network and HTTP filters in the configuration will be ignored from 1.4.0 and later removed from the
configuration in the v2 APIs. Filter direction is now implied at the C++ type level. The <code class="docutils literal notranslate"><span class="pre">type()</span></code> methods on the
<code class="docutils literal notranslate"><span class="pre">NamedNetworkFilterConfigFactory</span></code> and <code class="docutils literal notranslate"><span class="pre">NamedHttpFilterConfigFactory</span></code> interfaces have been removed to reflect this.</p></li>
<li><p><strong>grpc</strong>: The protobuf stub gRPC support via <code class="docutils literal notranslate"><span class="pre">Grpc::RpcChannelImpl</span></code> is now replaced with <code class="docutils literal notranslate"><span class="pre">Grpc::AsyncClientImpl</span></code>. This no
longer uses <code class="docutils literal notranslate"><span class="pre">protoc</span></code> generated stubs but instead utilizes C++ template generation of the RPC stubs.
<code class="docutils literal notranslate"><span class="pre">Grpc::AsyncClientImpl</span></code> supports streaming, in addition to the previous unary, RPCs.</p></li>
<li><p><strong>http_filters</strong>: <code class="docutils literal notranslate"><span class="pre">HttpFilterConfigFactory</span></code> filter API has been deprecated in favor of <code class="docutils literal notranslate"><span class="pre">NamedHttpFilterConfigFactory</span></code>.</p></li>
<li><p><strong>logging</strong>: The following log macros have been deprecated: <code class="docutils literal notranslate"><span class="pre">log_trace</span></code>, <code class="docutils literal notranslate"><span class="pre">log_debug</span></code>, <code class="docutils literal notranslate"><span class="pre">conn_log</span></code>, <code class="docutils literal notranslate"><span class="pre">conn_log_info</span></code>,
<code class="docutils literal notranslate"><span class="pre">conn_log_debug</span></code>, <code class="docutils literal notranslate"><span class="pre">conn_log_trace</span></code>, <code class="docutils literal notranslate"><span class="pre">stream_log</span></code>, <code class="docutils literal notranslate"><span class="pre">stream_log_info</span></code>, <code class="docutils literal notranslate"><span class="pre">stream_log_debug</span></code>, <code class="docutils literal notranslate"><span class="pre">stream_log_trace</span></code>.
For replacements, please see <a class="reference external" href="https://github.com/envoyproxy/envoy/blob/main/source/common/common/logger.h">logger.h</a>.</p></li>
<li><p><strong>options</strong>: Config option <code class="docutils literal notranslate"><span class="pre">statsd_local_udp_port</span></code> has been deprecated and has been replaced with <code class="docutils literal notranslate"><span class="pre">statsd_udp_ip_address</span></code>.</p></li>
<li><p><strong>streaming</strong>: The connectionId() and ssl() callbacks of StreamFilterCallbacks have been deprecated and replaced with a more general
connection() callback, which, when not returning a nullptr, can be used to get the connection id and SSL connection from
the returned Connection object pointer.</p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="v1.4.html" class="btn btn-neutral float-left" title="v1.4" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../v1.3/v1.3.html" class="btn btn-neutral float-right" title="v1.3" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2016-2025, Envoy Project Authors.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>